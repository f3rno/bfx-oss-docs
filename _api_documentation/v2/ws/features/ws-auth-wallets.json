{
  "title": "Wallets",
  "id": "ws-auth-wallets",
  "description": "Receive a snapshot and updates for any wallet events on your account.",
  "elements": [
    {
      "type": "MARKDOWN",
      "content": "Subscribe to the account information channel to keep track of your wallets. The account information channel provides a snapshot and updates on the wallet events in your account. The snapshot is delivered upon subscribing and any changes to your wallets will be provided as updates for as long as the channel remains open. Any authenticated connection is automatically subscribed to the account information channel.\n\nExample code to open an authenticated connection can be found on our [Authenticated Channels Page](doc:ws-auth).\n\nWallet events are sent with CHAN_ID = 0 and can be identified by looking at the TYPE stream field. Wallet events will use one of the following abbreviations: 'ws' (wallet snapshot) and 'wu' (wallet update)."
    },
    {
      "type": "CODE",
      "content": {
        "codes": [
          {
            "code": "[\n  CHAN_ID, \n  TYPE, //'ws'\n  [\n    [\n      WALLET_TYPE, \n      CURRENCY, \n      BALANCE, \n      UNSETTLED_INTEREST,\n      BALANCE_AVAILABLE,\n      ...\n    ], \n    ...\n  ]\n]\n\n[0,\"ws\",[[\"exchange\",\"SAN\",19.76,0,null,null,null]]]",
            "language": "json",
            "name": "Snapshot ('ws')"
          },
          {
            "code": "[\n  CHAN_ID, \n  TYPE, //'wu'\n  [\n    WALLET_TYPE, \n    CURRENCY, \n    BALANCE, \n    UNSETTLED_INTEREST,\n    BALANCE_AVAILABLE,\n    DESCRIPTION,\n    META\n  ]\n]\n\n[0,\"wu\",[\"exchange\",\"BTC\",1.61169184,0,null,\"Exchange 0.01 BTC for USD @ 7804.6\",{\"reason\":\"TRADE\",\"order_id\":34988418651,\"order_id_oppo\":34990541044,\"trade_price\":\"7804.6\",\"trade_amount\":\"0.01\"}]]",
            "language": "json",
            "name": "Update ('wu')"
          }
        ],
        "sidebar": true
      }
    },
    {
      "type": "MARKDOWN",
      "content": "**Stream Fields**\n\nTerm | Type | Description\n-- | -- | --\nCHAN_ID | int | Identification number for the channel subscribtion. Wallet events are always sent through the account information channel with CHAN_ID = 0\nTYPE | string | 'ws' (wallet snapshot), 'wu' (wallet update)\nWALLET_TYPE  |  string  |  Wallet name (exchange, margin, funding)\nCURRENCY  |  string  |  Currency (fUSD, etc)\nBALANCE  |  float  |  Wallet balance\nUNSETTLED_INTEREST | float | Unsettled interest\nBALANCE_AVAILABLE  |  float / null  |  Amount not tied up in active orders, positions or funding (null if the value is not fresh enough).\nDESCRIPTION | string | Description of the ledger entry\nMETA | json | Provides info on the reason for the wallet update, if available."
    },
    {
      "type": "CALLOUT",
      "content": {
        "type": "info",
        "title": "Important",
        "body": "These messages have gained the ability to send the calculation values (available balance) equal to \"null\" meaning that the new calculated value is not yet available.\n\nIn order to receive those values the user have to actively request for it with a \"calc\" message.\nSee [calc input dedicated section](http://docs.bitfinex.com/v2/docs/changelog#section--calc-input-message) for more details."
      }
    }
  ]
}