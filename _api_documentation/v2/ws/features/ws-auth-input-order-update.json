{
  "title": "Update Order",
  "id": "ws-auth-input-order-update",
  "description": "Update an existing order, can be used to update margin, exchange, and derivative orders.",
  "elements": [
    {
      "type": "MARKDOWN",
      "content": "To update an order, construct a payload using the \"ou\" (order update) abbreviation and include the desired order details. Please look to the sidebar for examples.\n\nWhen you update the order, you will receive a message of the appropriated type on the \"account info\" channel. Example responses are included in the sidebar. Please look to the [Orders](ref:ws-auth-orders) and [Notifications](ref:ws-auth-notifications) pages for further information, such as the response fields.\n\nOrder inputs require you to run the authentication code along with additional code for the input. The authentication code can be found  on our [Authenticated Channels](doc:ws-auth) and the additional code for inputs can be found on the [Websocket Inputs](ref:ws-input) page."
    },
    {
      "type": "CODE",
      "content": {
        "codes": [
          {
            "code": "// Adjust the remaining amount to 0.1 and set price to 500\n[\n  0, \n  'ou', \n  null, \n  { \n    id: 1149698545, \n    amount: '0.1', \n    price: '500' \n  }\n]   \n    \n// Increase the remaining amount by 0.1\n[\n  0, \n  'ou', \n  null, \n  { \n    id: 1149698545, \n    delta: '0.1', \n    price: '6500' \n  }\n]\n    \n// Change both price parameters of a stop limit order and set it to hidden\n[\n  0, \n  'ou', \n  null, \n  { \n    id: 1149698545, \n    delta: '0.1', \n    price: '2500', \n    price_aux_limit: '2600', \n    flags: 64 \n  }\n]\n\n// Move the order to group `123`\n[\n  0, \n  'ou', \n  null, \n  { \n    id: 1149698545, \n    gid: 123 \n  }\n]\n    \n// set trailing price delta to 45\n[\n  0, \n  'ou', \n  null, \n  { \n    id: 1149698545, \n    price_trailing: '45' \n  }\n]\n\n// set order expiration date\n[\n  0, \n  'ou', \n  null, \n  { \n    id: 1149698545, \n    tif: '2020-06-30' \n  }\n]",
            "language": "json",
            "name": "Payload"
          },
          {
            "code": "// When the order update is submitted you will receive an 'n' (notification) event as confirmation. If successful, you will also receive an 'ou' (order update) event. Both events are sent on CHANNEL_ID = 0.\n\n[\nCHANNEL_ID\nEVENT\n [\n MTS, //omitted for 'ou' event\n TYPE, //omitted for 'ou' event\n MESSAGE_ID, //omitted for 'ou' event\n null, //omitted for 'ou' event\n  [\n  ID,\n  GID,\n  CID,\n  SYMBOL,\n  MTS_CREATE, \n  MTS_UPDATE, \n  AMOUNT, \n  AMOUNT_ORIG, \n  TYPE,\n  TYPE_PREV,\n  MTS_TIF,\n  _PLACEHOLDER,\n  FLAGS,\n  ORDER_STATUS,\n  _PLACEHOLDER,\n  _PLACEHOLDER,\n  PRICE,\n  PRICE_AVG,\n  PRICE_TRAILING,\n  PRICE_AUX_LIMIT,\n  _PLACEHOLDER,\n  _PLACEHOLDER,\n  _PLACEHOLDER,\n  HIDDEN, \n  PLACED_ID,\n  _PLACEHOLDER,\n  _PLACEHOLDER,\n  _PLACEHOLDER,\n  ROUTING,\n  _PLACEHOLDER,\n  _PLACEHOLDER,\n  META\n  ]\n CODE, //omitted for 'ou' event\n STATUS, //omitted for 'ou' event\n TEXT //omitted for 'ou' event\n ]\n]\n\n\n[0,\"n\",[1575289447641,\"ou-req\",null,null,[1185815100,null,1575289350475,\"tETHUSD\",1575289351944,1575289351948,-3,-3,\"LIMIT\",null,null,null,0,\"ACTIVE\",null,null,240,0,0,0,null,null,null,0,0,null,null,null,\"API>BFX\",null,null,null],null,\"SUCCESS\",\"Submitting update to limit sell order for 3 ETH.\"]]\n\n[0,\"ou\",[1185815100,null,1575289350475,\"tETHUSD\",1575289351944,1575289447644,-3,-3,\"LIMIT\",\"LIMIT\",null,null,0,\"ACTIVE\",null,null,240,0,0,0,null,null,null,0,0,null,null,null,\"API>BFX\",null,null,null]]",
            "language": "json",
            "name": "Response"
          }
        ],
        "sidebar": true
      }
    },
    {
      "type": "MARKDOWN",
      "content": "** Request Fields **\n\nName | Type | Description\n-- | -- | --\nid  |  int64  |  Order ID\ncid  |  int45  |  Client Order ID\ncid_date  |  string  |  Client Order ID Date\ngid | int32 | Group Order ID\nprice | decimal string | Price\namount | decimal string | Amount\nlev | int | Set the leverage for a derivative order, supported by derivative symbol orders only. The value should be between 1 and 100 inclusive. The field is optional, if omitted the default leverage value of 10 will be used.\ndelta | decimal string | Change of amount\nprice_aux_limit | decimal string | Auxiliary limit price\nprice_trailing | decimal string | Trailing price delta\nflags | int16 | See https://docs.bitfinex.com/v2/docs/flag-values.\ntif | datetime string | Time-In-Force: datetime for automatic order cancellation (ie. 2020-01-01 10:45:23) )"
    },
    {
      "type": "CALLOUT",
      "content": {
        "type": "info",
        "body": "The summation of flags may result in multiple flags. For example 4160 (64 + 4096) means hidden post only.",
        "title": "Multiple Flags"
      }
    }
  ]
}