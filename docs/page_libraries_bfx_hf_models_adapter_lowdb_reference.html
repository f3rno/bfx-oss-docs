<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="css/normalize.css"><link rel="stylesheet" type="text/css" href="css/perfect-scrollbar.css"><link rel="stylesheet" type="text/css" href="css/highlightjs/night-owl.css"><link rel="stylesheet" type="text/css" href="index.css"><title>API Reference | bfx-hf-models-adapter-lowdb</title></head><body><div id="bfx-oss-docs-side-bar"><div id="bfx-oss-docs-side-bar__header"><img src="img/bfx-logo-bg-white.png" alt="Bitfinex" height="63"></div><ul><li><a href="index.html"><p>Home</p></a></li><li><a href="page_md_render_test.html"><p>Markdown Render Test</p></a></li><li><a href="page_libraries_bitfinex_api_py_README.html"><img src="svg/icons/python.svg"><p>bitfinex-api-py</p></a></li><li><a href="page_libraries_bitfinex_api_go_README.html"><img src="svg/icons/go.svg"><p>bitfinex-api-go</p></a></li><li><a href="page_libraries_bfxfixgw_README.html"><img src="svg/icons/go.svg"><p>bfxfixgw</p></a></li><li><a href="page_libraries_bitfinex_api_rb_README.html"><img src="svg/icons/ruby.svg"><p>bitfinex-api-rb</p></a></li><li><a href="page_libraries_bitfinex_api_node_README.html"><img src="svg/icons/nodejs_small.svg"><p>bitfinex-api-node</p></a></li><li><a href="page_libraries_bfx_api_mock_srv_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-mock-srv</p></a></li><li><a href="page_libraries_bfx_api_node_core_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-core</p></a></li><li><a href="page_libraries_bfx_api_node_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-models</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_example_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-example</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_candles_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-candles</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_ob_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-ob</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_ob_checksum_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-ob-checksum</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_seq_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-seq-audit</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_wd_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-wd</p></a></li><li><a href="page_libraries_bfx_api_node_rest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-rest</p></a></li><li><a href="page_libraries_bfx_api_node_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-util</p></a></li><li><a href="page_libraries_bfx_api_node_ws1_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-ws1</p></a></li><li><a href="page_libraries_bfx_hf_backtest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-backtest</p></a></li><li><a href="page_libraries_bfx_hf_chart_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-chart</p></a></li><li><a href="page_libraries_bfx_hf_data_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-data-server</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_bitfinex_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-bitfinex</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_dummy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-dummy</p></a></li><li><a href="page_libraries_bfx_hf_indicators_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-indicators</p></a></li><li><a href="page_libraries_bfx_hf_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models</p></a></li><li class="active"><a href="page_libraries_bfx_hf_models_adapter_lowdb_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-lowdb</p></a><ul><li><a href="page_libraries_bfx_hf_models_adapter_lowdb_README.html"><p>- README</p></a></li><li class="active"><a href="page_libraries_bfx_hf_models_adapter_lowdb_reference.html"><p>- API Reference</p></a></li></ul></li><li><a href="page_libraries_bfx_hf_models_adapter_sql_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-sql</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_template_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-template</p></a></li><li><a href="page_libraries_bfx_hf_algo_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-algo</p></a></li><li><a href="page_libraries_bfx_hf_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-server</p></a></li><li><a href="page_libraries_bfx_hf_strategy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy</p></a></li><li><a href="page_libraries_bfx_hf_strategy_exec_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy-exec</p></a></li><li><a href="page_libraries_bfx_hf_ui_config_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ui-config</p></a></li><li><a href="page_libraries_bfx_hf_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-util</p></a></li><li><a href="page_libraries_bfx_ws2_api_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-ws2-api-audit</p></a></li><li><a href="page_libraries_cbq_js_README.html"><img src="svg/icons/nodejs_small.svg"><p>cbq-js</p></a></li><li><a href="page_libraries_caron_README.html"><img src="svg/icons/nodejs_small.svg"><p>caron</p></a></li><li><a href="page_libraries_eos_name_verify_README.html"><img src="svg/icons/nodejs_small.svg"><p>eos-name-verify</p></a></li><li><a href="page_libraries_grenache_browser_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-browser-http</p></a></li><li><a href="page_libraries_grenache_grape_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-grape</p></a></li><li><a href="page_libraries_grenache_nodejs_base_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-base</p></a></li><li><a href="page_libraries_grenache_nodejs_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-http</p></a></li><li><a href="page_libraries_grenache_nodejs_link_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-link</p></a></li><li><a href="page_libraries_grenache_nodejs_utp_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-utp</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_tls_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws-tls</p></a></li><li><a href="page_libraries_lib_js_util_currencies_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-currencies</p></a></li><li><a href="page_libraries_lib_js_util_math_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-math</p></a></li><li><a href="page_libraries_lib_js_util_number_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-number</p></a></li><li><a href="page_libraries_lib_js_util_symbol_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-symbol</p></a></li><li><a href="page_libraries_smidgen_README.html"><img src="svg/icons/nodejs_small.svg"><p>smidgen</p></a></li><li><a href="page_libraries_sunbeam_README.html"><img src="svg/icons/nodejs_small.svg"><p>sunbeam</p></a></li><li><a href="page_libraries_wasteland_README.html"><img src="svg/icons/nodejs_small.svg"><p>wasteland</p></a></li></ul></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>API Reference</h2><h2>bfx-hf-models-adapter-lowdb</h2></div><div id="bfx-oss-docs-content-wrapper" class="bfx-oss-docs-content-type-api-docs"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><div id="bfx-oss-docs-api-docs-index"><div id="bfx-oss-docs-api-docs-index__inner"><ul><li><a href="#module_bfx-hf-models-adapter-lowdb">bfx-hf-models-adapter-lowdb</a><ul><li><a href="#module_bfx-hf-models-adapter-lowdb.LowDBAdapter">.LowDBAdapter</a> : <code>module:bfx-hf-models.Model</code></li><li><a href="#module_bfx-hf-models-adapter-lowdb.AdapterGenerator">.AdapterGenerator(config)</a> ⇒ <code>module:bfx-hf-models.DBAdapter</code></li><li><a href="#module_bfx-hf-models-adapter-lowdb.LowDBInstance">.LowDBInstance</a> : <code>object</code></li></ul></li></ul></div></div><p><a id="module_bfx-hf-models-adapter-lowdb"></a></p><h2 id="bfx-hf-models-adapter-lowdb"><a class="header-anchor" href="#bfx-hf-models-adapter-lowdb">§</a> bfx-hf-models-adapter-lowdb</h2><p>This is an adapter around {@npm lowdb} (a lodash-powered JSON database) for the Bitfinex Honey Framework. To use, initialize an instance of the <a href="module:bfx-hf-models">bfx-hf-models</a> database with it as an adapter.</p><h3 id="features"><a class="header-anchor" href="#features">§</a> Features</h3><ul><li>{@npm lowdb} saves the DB contents as a JSON file on disk</li><li>No need to run a 3rd party database server instance</li><li>Fully compatible with <a href="module:bfx-hf-models">bfx-hf-models</a> &amp; the HF system (<a href="module:bfx-hf-data-server">bfx-hf-data-server</a>, <a href="module:bfx-hf-algo-server">bfx-hf-algo-server</a>, <a href="module:bfx-hf-algo">bfx-hf-algo</a>, etc)</li></ul><h3 id="unique-collection-methods"><a class="header-anchor" href="#unique-collection-methods">§</a> Unique Collection Methods</h3><ul><li><code>bulkUpsert()</code> like <code>upsert()</code> but for multiple records</li><li><code>insertSorted()</code> - insert a record while maintaing sort (sort configured per-call)</li></ul><h3 id="unique-map-methods"><a class="header-anchor" href="#unique-map-methods">§</a> Unique Map Methods</h3><ul><li><code>rmAll()</code> - removes all records</li></ul><h3 id="unique-generic-methods"><a class="header-anchor" href="#unique-generic-methods">§</a> Unique Generic Methods</h3><ul><li><code>write()</code> - flushes all changes to disk</li></ul><h3 id="installation"><a class="header-anchor" href="#installation">§</a> Installation</h3><pre><code class="hljs language-bash">npm i --save bfx-hf-models-adapter-lowdb
</code></pre><h3 id="quickstart-%26-example"><a class="header-anchor" href="#quickstart-%26-example">§</a> Quickstart &amp; Example</h3><pre><code class="hljs language-js"><span class="hljs-keyword">const</span> HFDBLowDBAdapter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bfx-hf-models-adapter-lowdb'</span>)
<span class="hljs-keyword">const</span> { <span class="hljs-attr">schema</span>: HFDBBitfinexSchema } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bfx-hf-ext-plugin-bitfinex'</span>)
<span class="hljs-keyword">const</span> HFDB = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bfx-hf-models'</span>)

<span class="hljs-keyword">const</span> LOWDB_FILENAME = <span class="hljs-string">'...'</span>

<span class="hljs-keyword">const</span> db = <span class="hljs-keyword">new</span> HFDB({
  <span class="hljs-attr">schema</span>: HFDBBitfinexSchema,
  <span class="hljs-attr">adapter</span>: HFDBLowDBAdapter({
    <span class="hljs-attr">dbPath</span>: LOWDB_FILENAME,
    <span class="hljs-attr">schema</span>: HFDBBitfinexSchema,
  }),
})

<span class="hljs-keyword">const</span> { Candle } = db
<span class="hljs-keyword">const</span> candles = <span class="hljs-keyword">await</span> Candle.getAll()

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`read <span class="hljs-subst">${candles.length}</span> candles`</span>)
</code></pre><p><strong>License</strong>: Apache-2.0<br><a id="module_bfx-hf-models-adapter-lowdb.LowDBAdapter"></a></p><h3 id="bfx-hf-models-adapter-lowdb.lowdbadapter-%3A-module%3Abfx-hf-models.model"><a class="header-anchor" href="#bfx-hf-models-adapter-lowdb.lowdbadapter-%3A-module%3Abfx-hf-models.model">§</a> bfx-hf-models-adapter-lowdb.LowDBAdapter : <code>module:bfx-hf-models.Model</code></h3><p><strong>Kind</strong>: static constant of <a href="#module_bfx-hf-models-adapter-lowdb"><code>bfx-hf-models-adapter-lowdb</code></a><br><strong>Read only</strong>: true<br><a id="module_bfx-hf-models-adapter-lowdb.AdapterGenerator"></a></p><h3 id="bfx-hf-models-adapter-lowdb.adaptergenerator(config)-%E2%87%92-module%3Abfx-hf-models.dbadapter"><a class="header-anchor" href="#bfx-hf-models-adapter-lowdb.adaptergenerator(config)-%E2%87%92-module%3Abfx-hf-models.dbadapter">§</a> bfx-hf-models-adapter-lowdb.AdapterGenerator(config) ⇒ <code>module:bfx-hf-models.DBAdapter</code></h3><p>Adapter generator based on provided configuration</p><p><strong>Kind</strong>: static method of <a href="#module_bfx-hf-models-adapter-lowdb"><code>bfx-hf-models-adapter-lowdb</code></a><br><strong>Returns</strong>: <code>module:bfx-hf-models.DBAdapter</code> - adapter<br><strong>Throws</strong>:</p><ul><li><code>Error</code> fails if given an invalid or empty <code>dbPath</code></li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>config</td><td><code>object</code></td><td></td><td>configuration</td></tr><tr><td>config.dbPath</td><td><code>string</code></td><td></td><td>path to <code>lowdb</code> JSON store on disk</td></tr><tr><td>[config.defaultData]</td><td><code>object</code></td><td></td><td>optional seed data if the DB is blank</td></tr><tr><td>[config.Backend]</td><td><code>function</code></td><td><code>FileSync</code></td><td>lowdb backend, by default store is synced to a file on disk at <code>dbPath</code></td></tr></tbody></table><p><a id="module_bfx-hf-models-adapter-lowdb.LowDBInstance"></a></p><h3 id="bfx-hf-models-adapter-lowdb.lowdbinstance-%3A-object"><a class="header-anchor" href="#bfx-hf-models-adapter-lowdb.lowdbinstance-%3A-object">§</a> bfx-hf-models-adapter-lowdb.LowDBInstance : <code>object</code></h3><p>{@npm lowdb} database instance, used as <code>db</code> object for the provided <a href="module:bfx-hf-models.DBAdapter">bfx-hf-models.DBAdapter</a>.</p><p>See the <a href="https://github.com/typicode/lowdb/blob/master/README.md">lowdb README</a> for available methods.</p><p>This type is a stub to link to the documentation above; all <code>lodash</code> methods are available for manipulation of data.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-models-adapter-lowdb"><code>bfx-hf-models-adapter-lowdb</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>get</td><td><code>function</code></td><td>getter</td></tr><tr><td>set</td><td><code>function</code></td><td>setter</td></tr></tbody></table></div></div><!--
      <div id="bfx-oss-docs-footer-bar">
        <div id="bfx-oss-docs-footer-bar__container">
          <p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p>
        </div>
      </div>
      --></div><script type="text/javascript" src="js/vendor/debug.min.js"></script><script type="text/javascript" src="js/vendor/lodash.min.js"></script><script type="text/javascript" src="js/vendor/zepto.min.js"></script><script type="text/javascript" src="js/vendor/perfect-scrollbar.min.js"></script><script type="text/javascript" src="js/main.js"></script></body></html>