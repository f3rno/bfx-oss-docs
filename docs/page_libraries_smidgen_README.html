<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="css/normalize.css"><link rel="stylesheet" type="text/css" href="css/perfect-scrollbar.css"><link rel="stylesheet" type="text/css" href="css/highlightjs/night-owl.css"><link rel="stylesheet" type="text/css" href="index.css"><title>README | smidgen</title></head><body><div id="bfx-oss-docs-side-bar"><div id="bfx-oss-docs-side-bar__header"><img src="img/bfx-logo-bg-white.png" alt="Bitfinex" height="63"></div><ul><li><a href="index.html"><p>Home</p></a></li><li><a href="page_md_render_test.html"><p>Markdown Render Test</p></a></li><li><a href="page_libraries_bitfinex_api_py_README.html"><img src="svg/icons/python.svg"><p>bitfinex-api-py</p></a></li><li><a href="page_libraries_bfx_hf_strategy_py_README.html"><img src="svg/icons/python.svg"><p>bfx-hf-strategy-py</p></a></li><li><a href="page_libraries_bfx_hf_indicators_py_README.html"><img src="svg/icons/python.svg"><p>bfx-hf-indicators-py</p></a></li><li><a href="page_libraries_bitfinex_api_go_README.html"><img src="svg/icons/go.svg"><p>bitfinex-api-go</p></a></li><li><a href="page_libraries_bfxfixgw_README.html"><img src="svg/icons/go.svg"><p>bfxfixgw</p></a></li><li><a href="page_libraries_bitfinex_api_rb_README.html"><img src="svg/icons/ruby.svg"><p>bitfinex-api-rb</p></a></li><li><a href="page_libraries_bitfinex_api_node_README.html"><img src="svg/icons/nodejs_small.svg"><p>bitfinex-api-node</p></a></li><li><a href="page_libraries_bfx_api_mock_srv_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-mock-srv</p></a></li><li><a href="page_libraries_bfx_api_node_core_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-core</p></a></li><li><a href="page_libraries_bfx_api_node_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-models</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_example_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-example</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_candles_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-candles</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_ob_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-ob</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_ob_checksum_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-ob-checksum</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_seq_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-seq-audit</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_wd_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-wd</p></a></li><li><a href="page_libraries_bfx_api_node_rest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-rest</p></a></li><li><a href="page_libraries_bfx_api_node_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-util</p></a></li><li><a href="page_libraries_bfx_api_node_ws1_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-ws1</p></a></li><li><a href="page_libraries_bfx_hf_backtest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-backtest</p></a></li><li><a href="page_libraries_bfx_hf_chart_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-chart</p></a></li><li><a href="page_libraries_bfx_hf_data_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-data-server</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_bitfinex_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-bitfinex</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_dummy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-dummy</p></a></li><li><a href="page_libraries_bfx_hf_indicators_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-indicators</p></a></li><li><a href="page_libraries_bfx_hf_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_lowdb_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-lowdb</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_sql_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-sql</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_template_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-template</p></a></li><li><a href="page_libraries_bfx_hf_algo_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-algo</p></a></li><li><a href="page_libraries_bfx_hf_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-server</p></a></li><li><a href="page_libraries_bfx_hf_strategy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy</p></a></li><li><a href="page_libraries_bfx_hf_strategy_exec_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy-exec</p></a></li><li><a href="page_libraries_bfx_hf_ui_config_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ui-config</p></a></li><li><a href="page_libraries_bfx_hf_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-util</p></a></li><li><a href="page_libraries_bfx_ws2_api_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-ws2-api-audit</p></a></li><li><a href="page_libraries_cbq_js_README.html"><img src="svg/icons/nodejs_small.svg"><p>cbq-js</p></a></li><li><a href="page_libraries_caron_README.html"><img src="svg/icons/nodejs_small.svg"><p>caron</p></a></li><li><a href="page_libraries_eos_name_verify_README.html"><img src="svg/icons/nodejs_small.svg"><p>eos-name-verify</p></a></li><li><a href="page_libraries_grenache_browser_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-browser-http</p></a></li><li><a href="page_libraries_grenache_grape_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-grape</p></a></li><li><a href="page_libraries_grenache_nodejs_base_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-base</p></a></li><li><a href="page_libraries_grenache_nodejs_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-http</p></a></li><li><a href="page_libraries_grenache_nodejs_link_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-link</p></a></li><li><a href="page_libraries_grenache_nodejs_utp_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-utp</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_tls_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws-tls</p></a></li><li><a href="page_libraries_lib_js_util_currencies_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-currencies</p></a></li><li><a href="page_libraries_lib_js_util_math_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-math</p></a></li><li><a href="page_libraries_lib_js_util_number_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-number</p></a></li><li><a href="page_libraries_lib_js_util_symbol_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-symbol</p></a></li><li class="active"><a href="page_libraries_smidgen_README.html"><img src="svg/icons/nodejs_small.svg"><p>smidgen</p></a><ul><li class="active"><a href="page_libraries_smidgen_README.html"><p>- README</p></a></li><li><a href="page_libraries_smidgen_reference.html"><p>- API Reference</p></a></li></ul></li><li><a href="page_libraries_sunbeam_README.html"><img src="svg/icons/nodejs_small.svg"><p>sunbeam</p></a></li><li><a href="page_libraries_wasteland_README.html"><img src="svg/icons/nodejs_small.svg"><p>wasteland</p></a></li></ul></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>README</h2><h2>smidgen</h2></div><div id="bfx-oss-docs-content-wrapper" class="bfx-oss-docs-content-type-api-docs"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><div id="bfx-oss-docs-api-docs-index"><div id="bfx-oss-docs-api-docs-index__inner"><nav class="bfx-oss-docs-md-toc"><ol><li><a href="#smidgen---tiny-iota-multisignature-wallet">smidgen - Tiny IOTA multisignature wallet</a><ol><li><a href="#installation">Installation</a></li><li><a href="#config">Config</a></li><li><a href="#commands">Commands</a><ol><li><a href="#generate-seed-%5B%E2%80%93json%5D">generate-seed [–json]</a></li><li><a href="#get-balance-%5Baddress%5D-%5B%E2%80%93json-%7C---watch-%7C---threshold-%7C---provider%5D">get-balance [address] [–json | --watch | --threshold | --provider]</a></li><li><a href="#generate-address-%5B%E2%80%93json-%7C---depth-%7C---mwm-%7C---provider%5D">generate-address [–json | --depth | --mwm | --provider]</a></li><li><a href="#transfer-%3Camount%3E-%3Caddress%3E-%5B%3Camount%3E-%3Caddress%3E%E2%80%A6%5D-%5B%E2%80%93json-%7C---depth-%7C---mwm-%7C---force-%7C---provider%5D">transfer &lt;amount&gt; &lt;address&gt; [&lt;amount&gt; &lt;address&gt;…] [–json | --depth | --mwm | --force | --provider]</a></li><li><a href="#reattach-%3Ctransaction%3E-%5B%E2%80%93provider%5D">reattach &lt;transaction&gt; [–provider]</a></li><li><a href="#regenerate-addresses-%5B%E2%80%93amount-%7C---json-%7C---depth-%7C---mwm-%7C---force-%7C---provider%5D">regenerate-addresses [–amount | --json | --depth | --mwm | --force | --provider]</a></li><li><a href="#multisig-create-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93no-validation-%7C---force%5D">multisig create &lt;id&gt; &lt;file&gt; [–no-validation | --force]</a></li><li><a href="#multisig-add-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93no-validation%5D">multisig add &lt;id&gt; &lt;file&gt; [–no-validation]</a></li><li><a href="#multisig-finalize-%3Cfile%3E">multisig finalize &lt;file&gt;</a></li><li><a href="#multisig-transfer-%3Camount%3E-%3Caddress%3E-%5B%3Camount%3E-%3Caddress%3E%E2%80%A6%5D-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93provider-%7C---balance%5D">multisig transfer &lt;amount&gt; &lt;address&gt; [&lt;amount&gt; &lt;address&gt;…] &lt;id&gt; &lt;file&gt; [–provider | --balance]</a></li><li><a href="#multisig-reattach-%3Cfile%3E">multisig reattach &lt;file&gt;</a></li></ol></li><li><a href="#multisignature-wallets">Multisignature Wallets</a><ol><li><a href="#creating-a-multisignature-wallet">Creating a Multisignature Wallet</a></li><li><a href="#using-a-multisignature-wallet">Using a multisignature Wallet</a></li></ol></li><li><a href="#api">API</a><ol><li><a href="#smidgen%5B%E2%80%98generate-seed%E2%80%99%5D(iotalib%2C-conf%2C-cb)">smidgen[‘generate-seed’](iotaLib, conf, cb)</a></li><li><a href="#smidgen%5B%E2%80%98get-balance%E2%80%99%5D.getbalanceforseed(iotalib%2C-conf%2C-seed%2C-cb)">smidgen[‘get-balance’].getBalanceForSeed(iotaLib, conf, seed, cb)</a></li><li><a href="#smidgen%5B%E2%80%98get-balance%E2%80%99%5D.getbalanceforaddress(iotalib%2C-conf%2C-address%2C-cb)">smidgen[‘get-balance’].getBalanceForAddress(iotaLib, conf, address, cb)</a></li><li><a href="#smidgen%5B%E2%80%98generate-address%E2%80%99%5D(iotalib%2C-conf%2C-cb)">smidgen[‘generate-address’](iotaLib, conf, cb)</a></li></ol></li></ol></li></ol></nav></div></div><h1 id="smidgen---tiny-iota-multisignature-wallet"><a class="header-anchor" href="#smidgen---tiny-iota-multisignature-wallet">§</a> smidgen - Tiny IOTA multisignature wallet</h1><p>Status: <em>smidgen is in late BETA right now</em></p><ul><li><a href="#installation">Installation</a></li><li><a href="#config">Config</a></li><li><a href="#multisignature-wallets">Multisignature Wallets</a></li><li><a href="#commands">Commands</a><ul><li>generate-seed</li><li>get-balance</li><li>generate-address</li><li>transfer</li><li>reattach</li><li>regenerate-addresses</li><li>multisig create</li><li>multisig add</li><li>multisig finalize</li><li>multisig transfer</li><li>multisig reattach</li></ul></li><li><a href="#api">API</a><ul><li>‘generate-seed’</li><li>‘get-balance’</li><li>‘generate-address’</li><li>transfer</li></ul></li></ul><h2 id="installation"><a class="header-anchor" href="#installation">§</a> Installation</h2><pre><code class="hljs"><span class="hljs-symbol">npm</span> install -g <span class="hljs-keyword">smidgen
</span></code></pre><h2 id="config"><a class="header-anchor" href="#config">§</a> Config</h2><p>smidgen will put a config file named <code>.smidgenrc</code> into your home. This way you can set arguments like <code>provider</code> on a permanent basis. Use commandline arguments to overwrite them temporaily.</p><h2 id="commands"><a class="header-anchor" href="#commands">§</a> Commands</h2><p>The CLI supports different commands for managing your wallet.</p><p>The default provider is <code>http://iota.bitfinex.com:80</code>. You can change it by passing <code>--provider http://example.com</code> as argument.</p><p><strong>Important:</strong> Right now smidgen is not doing the POW itself and depends on a full node as a provider for transfers. You can specify a full node with <code>--provider</code>.</p><h3 id="generate-seed-%5B%E2%80%93json%5D"><a class="header-anchor" href="#generate-seed-%5B%E2%80%93json%5D">§</a> generate-seed [–json]</h3><p>Returns a seed for the IOTA wallet. If <code>json</code> is true, it prints JSON.</p><p><strong>Example:</strong></p><pre><code class="hljs">$ smidgen <span class="hljs-keyword">generate</span>-seed
UZQRLQNQAAXNSJAZTTMWGCAMQCCZBKTQMC9GKRBMVGXWCBIZAOA9LEPBKZKFSPMUEAKGRISEDNOGPZNHG

$ smidgen <span class="hljs-keyword">generate</span>-seed --json
{ seed: 'UZQRLQNQAAXNSJAZTTMWGCAMQCCZBKTQMC9GKRBMVGXWCBIZAOA9LEPBKZKFSPMUEAKGRISEDNOGPZNHG' }
</code></pre><h3 id="get-balance-%5Baddress%5D-%5B%E2%80%93json-%7C---watch-%7C---threshold-%7C---provider%5D"><a class="header-anchor" href="#get-balance-%5Baddress%5D-%5B%E2%80%93json-%7C---watch-%7C---threshold-%7C---provider%5D">§</a> get-balance [address] [–json | --watch | --threshold | --provider]</h3><p>Gets the balance of a wallet. If <code>json</code> is true, it prints JSON. The <code>--watch</code> option lets you watch a wallet for changes.</p><p>If an address is provided as argument, it will not require a seeds and print the balance of the given address.</p><p><strong>Example:</strong></p><pre><code class="hljs">$ <span class="hljs-string">smidgen </span><span class="hljs-built_in">get-balance</span>
<span class="hljs-string">Enter </span><span class="hljs-string">your </span><span class="hljs-string">seed:</span>
<span class="hljs-string">Balance:</span> <span class="hljs-string">471735365 </span>(<span class="hljs-string">471.</span><span class="hljs-string">735365 </span><span class="hljs-string">Mi)</span>

$ <span class="hljs-string">smidgen </span><span class="hljs-built_in">get-balance</span> <span class="hljs-built_in">--json</span>
{<span class="hljs-string">"balance"</span>:<span class="hljs-string">471735365}</span>

$ <span class="hljs-string">smidgen </span><span class="hljs-built_in">get-balance</span> <span class="hljs-string">YHPMMBIMEGWGNKRIDNODAXABWBSRZGOQTAPOUAFODCOCOXZMVUZDRFYHMOJMMREBYYJQGKKZSEGIAFWHYYOXVPVFNY
</span><span class="hljs-string">Balance:</span> <span class="hljs-string">55 </span>(0.<span class="hljs-string">000055 </span><span class="hljs-string">Mi)</span>
</code></pre><h3 id="generate-address-%5B%E2%80%93json-%7C---depth-%7C---mwm-%7C---provider%5D"><a class="header-anchor" href="#generate-address-%5B%E2%80%93json-%7C---depth-%7C---mwm-%7C---provider%5D">§</a> generate-address [–json | --depth | --mwm | --provider]</h3><p>Generates a new address and attaches to tangle.</p><p>If <code>json</code> is true, it prints JSON. Use <code>depth</code> to configure tip selection and <code>mwm</code> to change the minimum weight magnitude.</p><h3 id="transfer-%3Camount%3E-%3Caddress%3E-%5B%3Camount%3E-%3Caddress%3E%E2%80%A6%5D-%5B%E2%80%93json-%7C---depth-%7C---mwm-%7C---force-%7C---provider%5D"><a class="header-anchor" href="#transfer-%3Camount%3E-%3Caddress%3E-%5B%3Camount%3E-%3Caddress%3E%E2%80%A6%5D-%5B%E2%80%93json-%7C---depth-%7C---mwm-%7C---force-%7C---provider%5D">§</a> transfer &lt;amount&gt; &lt;address&gt; [&lt;amount&gt; &lt;address&gt;…] [–json | --depth | --mwm | --force | --provider]</h3><p>Transfers a given amount of <em>i</em> to an address. You can define multiple output adresses. With <code>--force</code> enabled smidgen will not check if the target address was used before, which can lead to loss of IOTA for the owner of the address.</p><p><strong>Important:</strong> Right now smidgen is not doing the POW itself and depends on a full node as a provider for transfers. You can specify a full node with <code>--provider</code>.</p><h3 id="reattach-%3Ctransaction%3E-%5B%E2%80%93provider%5D"><a class="header-anchor" href="#reattach-%3Ctransaction%3E-%5B%E2%80%93provider%5D">§</a> reattach &lt;transaction&gt; [–provider]</h3><p>Replays a specific transaction.</p><p><strong>Important:</strong> Right now smidgen is not doing the POW itself and depends on a full node as a provider for transfers. You can specify a full node with <code>--provider</code>.</p><h3 id="regenerate-addresses-%5B%E2%80%93amount-%7C---json-%7C---depth-%7C---mwm-%7C---force-%7C---provider%5D"><a class="header-anchor" href="#regenerate-addresses-%5B%E2%80%93amount-%7C---json-%7C---depth-%7C---mwm-%7C---force-%7C---provider%5D">§</a> regenerate-addresses [–amount | --json | --depth | --mwm | --force | --provider]</h3><p>Regenerates addresses to recover balances after a fresh snapshot. Default amount for addresses to generate is 25.</p><h3 id="multisig-create-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93no-validation-%7C---force%5D"><a class="header-anchor" href="#multisig-create-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93no-validation-%7C---force%5D">§</a> multisig create &lt;id&gt; &lt;file&gt; [–no-validation | --force]</h3><p>Starts the creation of a multisignature wallet. <code>id</code> is the identifier for the first party that signs the wallet.</p><p><code>--force</code> can be used to overwrite an existing setup-file.</p><p>With <code>--no-validation</code> smidgen does not check if the provided seed may have been already used via getKeyIndex. This comes handy if you have no internet connection.</p><h3 id="multisig-add-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93no-validation%5D"><a class="header-anchor" href="#multisig-add-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93no-validation%5D">§</a> multisig add &lt;id&gt; &lt;file&gt; [–no-validation]</h3><p>Adds another party to the setup file used for multisignature wallet generation.</p><p>With <code>--no-validation</code> smidgen does not check if the provided seed may have been already used via getKeyIndex. This comes handy if you have no internet connection.</p><h3 id="multisig-finalize-%3Cfile%3E"><a class="header-anchor" href="#multisig-finalize-%3Cfile%3E">§</a> multisig finalize &lt;file&gt;</h3><p>Creates two addresses for transferring IOTA from the multisig wallet. One as the main address, and a second one which is used for remaining balance after the transfer.</p><h3 id="multisig-transfer-%3Camount%3E-%3Caddress%3E-%5B%3Camount%3E-%3Caddress%3E%E2%80%A6%5D-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93provider-%7C---balance%5D"><a class="header-anchor" href="#multisig-transfer-%3Camount%3E-%3Caddress%3E-%5B%3Camount%3E-%3Caddress%3E%E2%80%A6%5D-%3Cid%3E-%3Cfile%3E-%5B%E2%80%93provider-%7C---balance%5D">§</a> multisig transfer &lt;amount&gt; &lt;address&gt; [&lt;amount&gt; &lt;address&gt;…] &lt;id&gt; &lt;file&gt; [–provider | --balance]</h3><p>Transfers a given amout to one or more target addresses. Takes the id of the signing party and the multisignature file, containing the account data.</p><p>With <code>--balance</code> we can override the current balance. This way smidgen will not query the tangle for the current balance.</p><p><strong>Important:</strong> Right now smidgen is not doing the POW itself and depends on a full node as a provider for transfers. You can specify a full node with <code>--provider</code>.</p><h3 id="multisig-reattach-%3Cfile%3E"><a class="header-anchor" href="#multisig-reattach-%3Cfile%3E">§</a> multisig reattach &lt;file&gt;</h3><p>Reads a wallet file and takes the current main address and sends 0i to it, from a random seed generated on the fly, to resurrect the wallet after a snapshot.</p><h2 id="multisignature-wallets"><a class="header-anchor" href="#multisignature-wallets">§</a> Multisignature Wallets</h2><p>Multisignature wallets add an extra layer of security. With them, we can create addresses, that need multiple Seeds for a transaction. The seeds can be owned by one or multiple persons.</p><p><strong>Important:</strong> Seeds to create multisignature wallets should just be used for one wallet.</p><p>Smidgen uses a file that is shared between Seed-owners. With the file we manage the wallet with its addresses and transfers. This makes it easier to keep track of the current state. Private keys are not part of the file. Please make sure you read and understood the <a href="https://github.com/iotaledger/wiki/blob/master/multisigs.md">Offical IOTA Multisig FAQ</a>.</p><p><strong>Important:</strong> Right now smidgen is not doing the POW itself and depends on a full node as a provider for transfers. You can specify a full node with <code>--provider</code>.</p><p>smidgen tries to make multisignature wallet creation safe. As part of it tries to find out if a seed was previously used with a single-signature wallet. This is done via <code>getKeyIndex</code>so it checks if the seed was used with another transaction before. However, when a node is offline, you have no WiFi or you don’t want the additional safety net you can disable the checks with <code>--no-validation</code>.</p><h3 id="creating-a-multisignature-wallet"><a class="header-anchor" href="#creating-a-multisignature-wallet">§</a> Creating a Multisignature Wallet</h3><p>The command for creating a wallet is:</p><pre><code class="hljs">smidgen multisig <span class="hljs-keyword">create</span> &lt;<span class="hljs-keyword">id</span>&gt; &lt;<span class="hljs-keyword">file</span>&gt;
</code></pre><p><code>id</code> is the identifier for the current party. The order of the signing parties is important for each transfer. By assigning an identifier to each party it easier to verify the right signing order. <code>file</code> is the file we will use to store our transactions and addresses.</p><p>Let’s say we have two parties, Bob and Alice, who want to manage a wallet.</p><p>Bob starts the process and creates the Multisignature Wallet:</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span><span class="hljs-keyword">multisig </span>create <span class="hljs-keyword">bob </span><span class="hljs-keyword">multisig.txt
</span></code></pre><p>Smidgen asks for the Seed Bob wants to use and creates the file with the digest. Tip: <code>smidgen generate-seed</code> creates a secure Seed.</p><pre><code class="hljs">Enter your seed:
<span class="hljs-builtin-name">info</span> Successfully wrote <span class="hljs-keyword">to</span> multisig.txt
<span class="hljs-builtin-name">info</span> Used key index 0 (main) <span class="hljs-keyword">and</span> 1 (remainder)
<span class="hljs-builtin-name">info</span>
<span class="hljs-builtin-name">info</span> <span class="hljs-builtin-name">Add</span> another party with:
<span class="hljs-builtin-name">info</span> smidgen multisig <span class="hljs-builtin-name">add</span> &lt;name&gt; multisig.txt
<span class="hljs-builtin-name">info</span> You can finalize the wallet with:
<span class="hljs-builtin-name">info</span> smidgen multisig finalize multisig.txt
</code></pre><p>Bob now shares the <code>multisig.txt</code> file with Alice to continue with the process.</p><p>When Alice receives the file, she has to use the <code>smidgen multisig add</code> command to add herself as the next party. Adding parties is possible until we finalize the wallet.</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span><span class="hljs-keyword">multisig </span><span class="hljs-keyword">add </span>alice <span class="hljs-keyword">multisig.txt
</span></code></pre><pre><code class="hljs">Enter your seed:
<span class="hljs-builtin-name">info</span> Successfully wrote <span class="hljs-keyword">to</span> multisig.txt
<span class="hljs-builtin-name">info</span> Used key index 0 (main) <span class="hljs-keyword">and</span> 1 (remainder)
<span class="hljs-builtin-name">info</span> Finish<span class="hljs-built_in"> address </span>creation with:
<span class="hljs-builtin-name">info</span> `smidgen multisig finalize`
</code></pre><p>As there are no remaining parties, Alice finalizes the wallet:</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span><span class="hljs-keyword">multisig </span>finalize <span class="hljs-keyword">multisig.txt
</span></code></pre><p>smidgen returns the current main address:</p><pre><code class="hljs"><span class="hljs-builtin-name">info</span> Successfully wrote <span class="hljs-keyword">to</span> multisig.txt
<span class="hljs-builtin-name">info</span> Main address: LDSWPKCQ9HNPIVHDRUBUWB9ZZPEDFZLYXJNZKIXBFQTWZFVJZJTTOJQWYOR9XVR9NZOQXNQGWQPCCSSWZQPLPDAOIZ
</code></pre><p>That’s it. Alice can now share the finalized wallet file with Bob. Transfers from the generated address are just possible if both Alice and Bob sign the transfer.</p><h3 id="using-a-multisignature-wallet"><a class="header-anchor" href="#using-a-multisignature-wallet">§</a> Using a multisignature Wallet</h3><p>Let’s take some IOTA from another wallet and transfer them to the new Multisignature wallet:</p><pre><code class="hljs">smidgen transfer <span class="hljs-number">3</span> --provider=http:<span class="hljs-comment">//fullnode.example.com LDSWPKCQ9HNPIVHDRUBUWB9ZZPEDFZLYXJNZKIXBFQTWZFVJZJTTOJQWYOR9XVR9NZOQXNQGWQPCCSSWZQPLPDAOIZ</span>
</code></pre><p>smidgen returns:</p><pre><code class="hljs">Enter your seed:
<span class="hljs-builtin-name">info</span> Successfully sent 3i <span class="hljs-keyword">to</span> LDSWPKCQ9HNPIVHDRUBUWB9ZZPEDFZLYXJNZKIXBFQTWZFVJZJTTOJQWYOR9XVR9NZOQXNQGWQPCCSSWZQPLPDAOIZ
<span class="hljs-builtin-name">info</span> Transaction sent, hash: HMBROOZJBZYCFZTRVCDINXBLCAUX9ZREKIDWGLFAFYSFFBVBHDZTBBOCRKPNLEBZIURQXGJNXSU999999
<span class="hljs-builtin-name">info</span> Reattach with `smidgen reattach HMBROOZJBZYCFZTRVCDINXBLCAUX9ZREKIDWGLFAFYSFFBVBHDZTBBOCRKPNLEBZIURQXGJNXSU999999`
</code></pre><p>Awesome! In case our transaction is stuck, we can try to reattach with:</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span>reattach HMBROOZJBZYCFZTRVCDINXBLCAUX9ZREKIDWGLFAFYSFFBVBHDZTBBOCRKPNLEBZIURQXGJNXSU999999
</code></pre><p>We can now monitor the balance of our multisignature wallet:</p><pre><code class="hljs"><span class="hljs-string">smidgen </span><span class="hljs-built_in">get-balance</span> <span class="hljs-built_in">--watch</span> <span class="hljs-string">LDSWPKCQ9HNPIVHDRUBUWB9ZZPEDFZLYXJNZKIXBFQTWZFVJZJTTOJQWYOR9XVR9NZOQXNQGWQPCCSSWZQPLPDAOIZ
</span></code></pre><p>smidgen will print the current balance every 15 seconds:</p><pre><code class="hljs">Balance: <span class="hljs-number">0</span> i (<span class="hljs-number">0</span> Mi) - <span class="hljs-number">3</span>s since last update
</code></pre><p>Time for a tea until the funds arrive at our multisignature wallet…</p><p>The IOTA arrived!</p><pre><code class="hljs">Balance: <span class="hljs-number">3</span> (<span class="hljs-number">0.000003</span> Mi) - <span class="hljs-number">3</span>s since last update
</code></pre><p>Let’s continue and do our first transfer.</p><p>To kick off a transfer. Both Bob and Alice have to sign with their Seeds. As Bob signed as the first party, he also has to sign first this time.</p><p>A transfer is created from the wallet file that is shared between the parties. Each transfer is appended to the file. This way we keep track of the key indexes and other details, like the current address.</p><p>The signature of the command is:</p><pre><code class="hljs">smidgen multisig transfer <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">address</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>
</code></pre><p>When we try to sign in a wrong order, smidgen will notify us:</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span><span class="hljs-keyword">multisig </span>transfer <span class="hljs-number">3</span> VSBHQVNJNWR... alice <span class="hljs-keyword">multisig.txt </span>--provider<span class="hljs-symbol">=http</span>://fullnode.example.com

<span class="hljs-symbol">ERR</span>! Wrong party signing. Current party: <span class="hljs-keyword">bob
</span><span class="hljs-symbol">ERR</span>! Signing order: <span class="hljs-keyword">bob, </span>alice
</code></pre><p>So Bob has to sign first:</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span><span class="hljs-keyword">multisig </span>transfer <span class="hljs-number">3</span> VSBHQVNJNWR... <span class="hljs-keyword">bob </span><span class="hljs-keyword">multisig.txt </span>--provider<span class="hljs-symbol">=http</span>://fullnode.example.com
</code></pre><p>smidgen returns:</p><pre><code class="hljs"><span class="hljs-keyword">info</span> Successfully signed transfer
<span class="hljs-keyword">info</span> <span class="hljs-keyword">Share</span> multisig.txt <span class="hljs-keyword">with</span> <span class="hljs-string">'alice'</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">continue</span>
</code></pre><p>Great! Now it is Alice’s turn to sign the transfer after Bob sent her the updated wallet file. smidgen will detect that the last party has signed and send the transaction. For the transfer we have to do a POW, so we need to specify a full node as provider:</p><pre><code class="hljs"><span class="hljs-keyword">smidgen </span><span class="hljs-keyword">multisig </span>transfer <span class="hljs-number">3</span> VSBHQVNJNWR... alice <span class="hljs-keyword">multisig.txt </span>--provider<span class="hljs-symbol">=http</span>://fullnode.example.com
</code></pre><p>smidgen verifies the bundle and sends the transfer:</p><pre><code class="hljs">Enter your seed:
<span class="hljs-builtin-name">info</span> Verifying bundle<span class="hljs-built_in">..</span>. Bundle: OK
<span class="hljs-builtin-name">info</span> Sending transaction<span class="hljs-built_in">..</span>.
<span class="hljs-builtin-name">info</span> Transaction sent, hash: OHHJOCLRMKQ9EMINOZXITIKWFZIQBEWPOQWCIOMWOFNOILVDYLERFLJOFANUSECBXFEXOJ<span class="hljs-built_in">..</span>.
<span class="hljs-builtin-name">info</span> Reattach with `smidgen reattach OHHJOCLRMKQ9EMINOZXITIKWFZIQBEWPOQWCIOMWOFNOILVDYLERFLJOFANUSECBXF`
<span class="hljs-builtin-name">info</span> Saved status <span class="hljs-keyword">to</span> multisig.txt
<span class="hljs-builtin-name">info</span> New main address: DIYWAXPNINNJXWDPGGXAQTYTPREQYDONTZXGZMQTAGDCUOAEJXJXOIUFAVDUORHERZCXCCUMQGRAP<span class="hljs-built_in">..</span>.
</code></pre><p>Great! That’s it! smidgen created a new address for us.</p><p>In case we want to accept new IOTA, we have to use the new address that was just generated.</p><h2 id="api"><a class="header-anchor" href="#api">§</a> API</h2><p>smidgen exposes each command as callback-based API function. There is no printing and other CLI related parts in the functions and they can be used to compose other programs.</p><h3 id="smidgen%5B%E2%80%98generate-seed%E2%80%99%5D(iotalib%2C-conf%2C-cb)"><a class="header-anchor" href="#smidgen%5B%E2%80%98generate-seed%E2%80%99%5D(iotalib%2C-conf%2C-cb)">§</a> smidgen[‘generate-seed’](iotaLib, conf, cb)</h3><ul><li><code>conf</code> &lt;Object&gt;<ul><li><code>json</code> &lt;Boolean&gt; return json</li></ul></li></ul><p><strong>Example:</strong></p><pre><code class="hljs language-js"><span class="hljs-keyword">const</span> smidgen = <span class="hljs-built_in">require</span>(<span class="hljs-string">'smidgen'</span>)

<span class="hljs-keyword">const</span> conf = { <span class="hljs-attr">json</span>: <span class="hljs-literal">false</span> }
smidgen.load(conf, (err, smidgen) =&gt; {
  smidgen.commands[<span class="hljs-string">'generate-seed'</span>](smidgen.iota, conf, (err, res) =&gt; {
    <span class="hljs-built_in">console</span>.log(res)
  })
})
</code></pre><h3 id="smidgen%5B%E2%80%98get-balance%E2%80%99%5D.getbalanceforseed(iotalib%2C-conf%2C-seed%2C-cb)"><a class="header-anchor" href="#smidgen%5B%E2%80%98get-balance%E2%80%99%5D.getbalanceforseed(iotalib%2C-conf%2C-seed%2C-cb)">§</a> smidgen[‘get-balance’].getBalanceForSeed(iotaLib, conf, seed, cb)</h3><ul><li><code>conf</code> &lt;Object&gt;<ul><li><code>json</code> &lt;Boolean&gt; return json</li></ul></li></ul><p><strong>Example:</strong></p><pre><code class="hljs language-js"><span class="hljs-keyword">const</span> smidgen = <span class="hljs-built_in">require</span>(<span class="hljs-string">'smidgen'</span>)

<span class="hljs-keyword">const</span> conf = { <span class="hljs-attr">json</span>: <span class="hljs-literal">false</span> }
<span class="hljs-keyword">const</span> seed = <span class="hljs-string">'UZQRLQNQAAXNSJAZTTMWGCAMQCCZBKTQMC9GKRBMVGXWCBIZAOA9LEPBKZKFSPMUEAKGRISEDNOGPZNHG'</span>

smidgen.load(conf, (err, smidgen) =&gt; {
  smidgen.commands[<span class="hljs-string">'get-balance'</span>].getBalanceForSeed(smidgen.iota, conf, seed, (err, res) =&gt; {
    <span class="hljs-built_in">console</span>.log(res)
  })
})
</code></pre><h3 id="smidgen%5B%E2%80%98get-balance%E2%80%99%5D.getbalanceforaddress(iotalib%2C-conf%2C-address%2C-cb)"><a class="header-anchor" href="#smidgen%5B%E2%80%98get-balance%E2%80%99%5D.getbalanceforaddress(iotalib%2C-conf%2C-address%2C-cb)">§</a> smidgen[‘get-balance’].getBalanceForAddress(iotaLib, conf, address, cb)</h3><ul><li><code>conf</code> &lt;Object&gt;<ul><li><code>json</code> &lt;Boolean&gt; return json</li><li><code>threshold</code> &lt;Number&gt;</li></ul></li></ul><p><strong>Example:</strong></p><pre><code class="hljs language-js"><span class="hljs-keyword">const</span> smidgen = <span class="hljs-built_in">require</span>(<span class="hljs-string">'smidgen'</span>)

<span class="hljs-keyword">const</span> conf = { <span class="hljs-attr">json</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">threshold</span>: <span class="hljs-number">49</span> }
<span class="hljs-keyword">const</span> address = <span class="hljs-string">'YHPMMBIMEGWGNKRIDNODAXABWBSRZGOQTAPOUAFODCOCOXZMVUZDRFYHMOJMMREBYYJQGKKZSEGIAFWHYYOXVPVFNY'</span>

smidgen.load(conf, (err, smidgen) =&gt; {
  smidgen.commands[<span class="hljs-string">'get-balance'</span>].getBalanceForAddress(smidgen.iota, conf, address, (err, res) =&gt; {
    <span class="hljs-built_in">console</span>.log(res)
  })
})
</code></pre><h3 id="smidgen%5B%E2%80%98generate-address%E2%80%99%5D(iotalib%2C-conf%2C-cb)"><a class="header-anchor" href="#smidgen%5B%E2%80%98generate-address%E2%80%99%5D(iotalib%2C-conf%2C-cb)">§</a> smidgen[‘generate-address’](iotaLib, conf, cb)</h3><ul><li><code>conf</code> &lt;Object&gt;<ul><li><code>json</code> &lt;Boolean&gt; return json</li><li><code>depth</code> &lt;Number&gt; set depth for tip selection</li><li><code>mwm</code> &lt;Number&gt; set minimum weight magnitude</li></ul></li></ul><pre><code class="hljs language-js"><span class="hljs-keyword">const</span> smidgen = <span class="hljs-built_in">require</span>(<span class="hljs-string">'smidgen'</span>)

<span class="hljs-keyword">const</span> conf = { <span class="hljs-attr">json</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">depth</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">mwm</span>: <span class="hljs-number">18</span> }
smidgen.load(conf, (err, smidgen) =&gt; {
  smidgen.commands[<span class="hljs-string">'generate-address'</span>](smidgen.iota, conf, (err, address) =&gt; {
    <span class="hljs-built_in">console</span>.log(res)
  })
})
</code></pre></div></div><!--
      <div id="bfx-oss-docs-footer-bar">
        <div id="bfx-oss-docs-footer-bar__container">
          <p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p>
        </div>
      </div>
      --></div><script type="text/javascript" src="js/vendor/debug.min.js"></script><script type="text/javascript" src="js/vendor/lodash.min.js"></script><script type="text/javascript" src="js/vendor/zepto.min.js"></script><script type="text/javascript" src="js/vendor/perfect-scrollbar.min.js"></script><script type="text/javascript" src="js/main.js"></script></body></html>