<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="css/normalize.css"><link rel="stylesheet" type="text/css" href="css/perfect-scrollbar.css"><link rel="stylesheet" type="text/css" href="css/highlightjs/night-owl.css"><link rel="stylesheet" type="text/css" href="index.css"><title>API Reference | bfx-hf-strategy</title></head><body><div id="bfx-oss-docs-side-bar"><div id="bfx-oss-docs-side-bar__header"><img src="img/bfx-logo-bg-white.png" alt="Bitfinex" height="63"></div><ul><li><a href="index.html"><p>Home</p></a></li><li><a href="page_md_render_test.html"><p>Markdown Render Test</p></a></li><li><a href="/page_libraries_bitfinex_api_py_README.html"><img src="/svg/icons/python.svg"><p>bitfinex-api-py</p></a></li><li><a href="/page_libraries_bitfinex_api_go_README.html"><img src="/svg/icons/go.svg"><p>bitfinex-api-go</p></a></li><li><a href="/page_libraries_bfxfixgw_README.html"><img src="/svg/icons/go.svg"><p>bfxfixgw</p></a></li><li><a href="/page_libraries_bitfinex_api_rb_README.html"><img src="/svg/icons/ruby.svg"><p>bitfinex-api-rb</p></a></li><li><a href="/page_libraries_bitfinex_api_node_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bitfinex-api-node</p></a></li><li><a href="/page_libraries_bfx_api_mock_srv_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-mock-srv</p></a></li><li><a href="/page_libraries_bfx_api_node_core_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-core</p></a></li><li><a href="/page_libraries_bfx_api_node_models_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-models</p></a></li><li><a href="/page_libraries_bfx_api_node_plugin_example_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-example</p></a></li><li><a href="/page_libraries_bfx_api_node_plugin_managed_candles_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-candles</p></a></li><li><a href="/page_libraries_bfx_api_node_plugin_managed_ob_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-ob</p></a></li><li><a href="/page_libraries_bfx_api_node_plugin_ob_checksum_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-ob-checksum</p></a></li><li><a href="/page_libraries_bfx_api_node_plugin_seq_audit_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-seq-audit</p></a></li><li><a href="/page_libraries_bfx_api_node_plugin_wd_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-wd</p></a></li><li><a href="/page_libraries_bfx_api_node_rest_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-rest</p></a></li><li><a href="/page_libraries_bfx_api_node_util_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-util</p></a></li><li><a href="/page_libraries_bfx_api_node_ws1_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-api-node-ws1</p></a></li><li><a href="/page_libraries_bfx_hf_backtest_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-backtest</p></a></li><li><a href="/page_libraries_bfx_hf_chart_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-chart</p></a></li><li><a href="/page_libraries_bfx_hf_data_server_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-data-server</p></a></li><li><a href="/page_libraries_bfx_hf_ext_plugin_bitfinex_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-bitfinex</p></a></li><li><a href="/page_libraries_bfx_hf_ext_plugin_dummy_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-dummy</p></a></li><li><a href="/page_libraries_bfx_hf_indicators_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-indicators</p></a></li><li><a href="/page_libraries_bfx_hf_models_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-models</p></a></li><li><a href="/page_libraries_bfx_hf_models_adapter_lowdb_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-lowdb</p></a></li><li><a href="/page_libraries_bfx_hf_models_adapter_sql_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-sql</p></a></li><li><a href="/page_libraries_bfx_hf_models_adapter_template_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-template</p></a></li><li><a href="/page_libraries_bfx_hf_algo_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-algo</p></a></li><li><a href="/page_libraries_bfx_hf_server_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-server</p></a></li><li class="active"><a href="/page_libraries_bfx_hf_strategy_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-strategy</p></a><ul><li><a href="page_libraries_bfx_hf_strategy_README.html"><p>- README</p></a></li><li class="active"><a href="page_libraries_bfx_hf_strategy_reference.html"><p>- API Reference</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_architectural overview.html"><p>- Architectural Overview</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_backtesting offline.html"><p>- Backtesting Offline</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_backtesting online.html"><p>- Backtesting Online</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_order creation.html"><p>- Order Creation</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_plugin system.html"><p>- Plugin System</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_strategy design.html"><p>- Strategy Design</p></a></li><li><a href="page_libraries_bfx_hf_strategy_tutorial_using indicators.html"><p>- Using Indicators</p></a></li></ul></li><li><a href="/page_libraries_bfx_hf_strategy_exec_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-strategy-exec</p></a></li><li><a href="/page_libraries_bfx_hf_ui_config_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-ui-config</p></a></li><li><a href="/page_libraries_bfx_hf_util_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-hf-util</p></a></li><li><a href="/page_libraries_bfx_ws2_api_audit_README.html"><img src="/svg/icons/nodejs_small.svg"><p>bfx-ws2-api-audit</p></a></li><li><a href="/page_libraries_cbq_js_README.html"><img src="/svg/icons/nodejs_small.svg"><p>cbq-js</p></a></li><li><a href="/page_libraries_caron_README.html"><img src="/svg/icons/nodejs_small.svg"><p>caron</p></a></li><li><a href="/page_libraries_eos_name_verify_README.html"><img src="/svg/icons/nodejs_small.svg"><p>eos-name-verify</p></a></li><li><a href="/page_libraries_grenache_browser_http_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-browser-http</p></a></li><li><a href="/page_libraries_grenache_grape_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-grape</p></a></li><li><a href="/page_libraries_grenache_nodejs_base_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-nodejs-base</p></a></li><li><a href="/page_libraries_grenache_nodejs_http_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-nodejs-http</p></a></li><li><a href="/page_libraries_grenache_nodejs_link_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-nodejs-link</p></a></li><li><a href="/page_libraries_grenache_nodejs_utp_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-nodejs-utp</p></a></li><li><a href="/page_libraries_grenache_nodejs_ws_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws</p></a></li><li><a href="/page_libraries_grenache_nodejs_ws_tls_README.html"><img src="/svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws-tls</p></a></li><li><a href="/page_libraries_lib_js_util_currencies_README.html"><img src="/svg/icons/nodejs_small.svg"><p>lib-js-util-currencies</p></a></li><li><a href="/page_libraries_lib_js_util_math_README.html"><img src="/svg/icons/nodejs_small.svg"><p>lib-js-util-math</p></a></li><li><a href="/page_libraries_lib_js_util_number_README.html"><img src="/svg/icons/nodejs_small.svg"><p>lib-js-util-number</p></a></li><li><a href="/page_libraries_lib_js_util_symbol_README.html"><img src="/svg/icons/nodejs_small.svg"><p>lib-js-util-symbol</p></a></li><li><a href="/page_libraries_smidgen_README.html"><img src="/svg/icons/nodejs_small.svg"><p>smidgen</p></a></li><li><a href="/page_libraries_sunbeam_README.html"><img src="/svg/icons/nodejs_small.svg"><p>sunbeam</p></a></li><li><a href="/page_libraries_wasteland_README.html"><img src="/svg/icons/nodejs_small.svg"><p>wasteland</p></a></li></ul></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>API Reference</h2><h2>bfx-hf-strategy</h2></div><div id="bfx-oss-docs-content-wrapper" class="bfx-oss-docs-content-type-api-docs"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><div id="bfx-oss-docs-api-docs-index"><div id="bfx-oss-docs-api-docs-index__inner"><ul><li><a href="#module_bfx-hf-strategy">bfx-hf-strategy</a><ul><li><a href="#module_bfx-hf-strategy.defineStrategy">.defineStrategy(args)</a> ⇒ <a href="#module_bfx-hf-strategy.StrategyState"><code>StrategyState</code></a></li><li><a href="#module_bfx-hf-strategy.initHelpersForStrategy">.initHelpersForStrategy(strategy)</a> ⇒ <a href="#module_bfx-hf-strategy.Helpers"><code>Helpers</code></a></li><li><a href="#module_bfx-hf-strategy.trades">.trades</a> ⇒ <a href="#module_bfx-hf-strategy.StrategyTrade"><code>Array.&lt;StrategyTrade&gt;</code></a></li><li><a href="#module_bfx-hf-strategy.closeOpenPositions">.closeOpenPositions</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.closePosition">.closePosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.closePositionLimit">.closePositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.closePositionMarket">.closePositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.closePositionWithOrder">.closePositionWithOrder</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openLongPosition">.openLongPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openLongPositionLimit">.openLongPositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openLongPositionMarket">.openLongPositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openPosition">.openPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openPositionLimit">.openPositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openPositionMarket">.openPositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openPositionWithOrder">.openPositionWithOrder</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openShortPosition">.openShortPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openShortPositionLimit">.openShortPositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.openShortPositionMarket">.openShortPositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updateLongPosition">.updateLongPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updateLongPositionLimit">.updateLongPositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updateLongPositionMarket">.updateLongPositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updatePosition">.updatePosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updatePositionLimit">.updatePositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updatePositionMarket">.updatePositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updatePositionWithOrder">.updatePositionWithOrder</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updateShortPosition">.updateShortPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updateShortPositionLimit">.updateShortPositionLimit</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.updateShortPositionMarket">.updateShortPositionMarket</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.withNoPosition">.withNoPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.withPosition">.withPosition</a> ⇒ <code>Promise</code></li><li><a href="#module_bfx-hf-strategy.minTradeIntervalMet">.minTradeIntervalMet</a> ⇒ <code>boolean</code></li><li><a href="#module_bfx-hf-strategy.enforceMinTradeInterval">.enforceMinTradeInterval</a> : <code>function</code></li><li><a href="#module_bfx-hf-strategy.getState">.getState</a> ⇒ <code>object</code></li><li><a href="#module_bfx-hf-strategy.getLastPrice">.getLastPrice</a> ⇒ <code>number</code></li><li><a href="#module_bfx-hf-strategy.indicatorValues">.indicatorValues</a> ⇒ <code>object</code></li><li><a href="#module_bfx-hf-strategy.indicators">.indicators</a> ⇒ <code>object</code></li><li><a href="#module_bfx-hf-strategy.inAPosition">.inAPosition</a> ⇒ <code>boolean</code></li><li><a href="#module_bfx-hf-strategy.inALongPosition">.inALongPosition</a> ⇒ <code>boolean</code></li><li><a href="#module_bfx-hf-strategy.inAShortPosition">.inAShortPosition</a> ⇒ <code>boolean</code></li><li><a href="#module_bfx-hf-strategy.condition">.condition</a> : <code>function</code></li><li><a href="#module_bfx-hf-strategy.conditionIndicatorCrossed">.conditionIndicatorCrossed</a> : <code>function</code></li><li><a href="#module_bfx-hf-strategy.conditionIndicatorsCrossed">.conditionIndicatorsCrossed</a> : <code>function</code></li><li><a href="#module_bfx-hf-strategy.conditionInAPosition">.conditionInAPosition</a> : <code>function</code></li><li><a href="#module_bfx-hf-strategy.Helpers">.Helpers</a> : <code>object</code></li><li><a href="#module_bfx-hf-strategy.OrderParameters">.OrderParameters</a> : <code>object</code></li><li><a href="#module_bfx-hf-strategy.PositionParameters">.PositionParameters</a></li><li><a href="#module_bfx-hf-strategy.StrategyDefinition">.StrategyDefinition</a> : <code>object</code></li><li><a href="#module_bfx-hf-strategy.StrategyPosition">.StrategyPosition</a> : <code>object</code></li><li><a href="#module_bfx-hf-strategy.StrategyState">.StrategyState</a></li><li><a href="#module_bfx-hf-strategy.StrategyTrade">.StrategyTrade</a></li></ul></li></ul></div></div><p><a id="module_bfx-hf-strategy"></a></p><h2 id="bfx-hf-strategy"><a class="header-anchor" href="#bfx-hf-strategy">§</a> bfx-hf-strategy</h2><p>This module serves as a framework for creating trading bots/strategies on the Bitfinex platform. It consists of a set of order methods and an architecture compatible with <a href="module:bfx-hf-data-server">bfx-hf-data-server</a> and <a href="module:bfx-hf-backtest">bfx-hf-backtest</a> for backtests on historical candle/trade data, which can be transitioned seamlessly to trading on the live markets.</p><p>Strategies written using this framework must define an <code>exec</code> function which in turn is provided an instance of the <a href="#module_bfx-hf-strategy.Helpers">Helpers</a> object bound to that strategy during execution. The helpers can be used to control the execution flow of the strategy, inspect data &amp; indicators, and make automated trading decisions.</p><p>See <a href="#module_bfx-hf-strategy.Helpers">Helpers</a> for a full list of strategy runtime methods.</p><h3 id="features"><a class="header-anchor" href="#features">§</a> Features</h3><ul><li>Event-driven design approach allowing strategies to react to market updates in real-time</li><li>Compatibility with <a href="module:bfx-hf-backtest">bfx-hf-backtest</a> for backtest execution</li><li>Compatibility with <a href="module:bfx-hf-strategy-exec">bfx-hf-strategy-exec</a> for execution on live markets</li></ul><h3 id="installation"><a class="header-anchor" href="#installation">§</a> Installation</h3><pre><code class="hljs language-bash">npm i --save bfx-hf-strategy
</code></pre><h3 id="quickstart-%26-example"><a class="header-anchor" href="#quickstart-%26-example">§</a> Quickstart &amp; Example</h3><p>Using <a href="#module_bfx-hf-strategy">bfx-hf-strategy</a> implies writing a custom strategy utilizing the methods provided by the library. The following is an example of a valid strategy as defined within <code>examples/macd_cross</code>:</p><pre><code class="hljs language-js"><span class="hljs-keyword">const</span> { MACD } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bfx-hf-indicators'</span>)
<span class="hljs-keyword">const</span> { SYMBOLS, TIME_FRAMES } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bfx-hf-util'</span>)
<span class="hljs-keyword">const</span> HFS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bfx-hf-strategy'</span>)

<span class="hljs-built_in">module</span>.exports = ({
  symbol = SYMBOLS.BTC_USD,
  tf = TIME_FRAMES.ONE_HOUR
} = {}) =&gt; HFS.define({
  <span class="hljs-attr">id</span>: <span class="hljs-string">'quickstart_example'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'quickstart_example'</span>,
  symbol,
  tf,

  <span class="hljs-attr">indicators</span>: {
    <span class="hljs-attr">macd</span>: <span class="hljs-keyword">new</span> MACD([<span class="hljs-number">10</span>, <span class="hljs-number">26</span>, <span class="hljs-number">9</span>])
  },

  <span class="hljs-comment">// This quickstart example immediately opens a long position, and then no</span>
  <span class="hljs-comment">// longer reacts to future market updates</span>
  <span class="hljs-attr">onPriceUpdate</span>: <span class="hljs-keyword">async</span> (state = {}, update = {}) =&gt; {
    <span class="hljs-keyword">const</span> position = HFS.getPosition(state)

    <span class="hljs-keyword">if</span> (position) {
      <span class="hljs-keyword">return</span> state
    }

    <span class="hljs-keyword">return</span> HFS.openLongPositionMarket(state, {
      <span class="hljs-attr">mtsCreate</span>: mts,
      <span class="hljs-attr">amount</span>: <span class="hljs-number">1</span>,
      price
    })
  }
})
</code></pre><p><a id="module_bfx-hf-strategy.defineStrategy"></a></p><h3 id="bfx-hf-strategy.definestrategy(args)-%E2%87%92-strategystate"><a class="header-anchor" href="#bfx-hf-strategy.definestrategy(args)-%E2%87%92-strategystate">§</a> bfx-hf-strategy.defineStrategy(args) ⇒ <a href="#module_bfx-hf-strategy.StrategyState"><code>StrategyState</code></a></h3><p>Returns an initial strategy state object for the provided arguments. The state object can then be used with the various HF strategy methods.</p><p><strong>Kind</strong>: static method of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <a href="#module_bfx-hf-strategy.StrategyState"><code>StrategyState</code></a> - state - strategy state</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>args</td><td><a href="#module_bfx-hf-strategy.StrategyDefinition"><code>StrategyDefinition</code></a></td><td>definition</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.initHelpersForStrategy"></a></p><h3 id="bfx-hf-strategy.inithelpersforstrategy(strategy)-%E2%87%92-helpers"><a class="header-anchor" href="#bfx-hf-strategy.inithelpersforstrategy(strategy)-%E2%87%92-helpers">§</a> bfx-hf-strategy.initHelpersForStrategy(strategy) ⇒ <a href="#module_bfx-hf-strategy.Helpers"><code>Helpers</code></a></h3><p>Returns an initialized <a href="#module_bfx-hf-strategy.Helpers">Helpers</a> instance bound to the provided <code>strategy</code> state.</p><p><strong>Kind</strong>: static method of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <a href="#module_bfx-hf-strategy.Helpers"><code>Helpers</code></a> - helpers</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>strategy</td><td><a href="#module_bfx-hf-strategy.StrategyState"><code>StrategyState</code></a></td><td>strategy state</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.trades"></a></p><h3 id="bfx-hf-strategy.trades-%E2%87%92-array.%3Cstrategytrade%3E"><a class="header-anchor" href="#bfx-hf-strategy.trades-%E2%87%92-array.%3Cstrategytrade%3E">§</a> bfx-hf-strategy.trades ⇒ <a href="#module_bfx-hf-strategy.StrategyTrade"><code>Array.&lt;StrategyTrade&gt;</code></a></h3><p>Returns the strategy’s trades</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <a href="#module_bfx-hf-strategy.StrategyTrade"><code>Array.&lt;StrategyTrade&gt;</code></a> - trades<br><a id="module_bfx-hf-strategy.closeOpenPositions"></a></p><h3 id="bfx-hf-strategy.closeopenpositions-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.closeopenpositions-%E2%87%92-promise">§</a> bfx-hf-strategy.closeOpenPositions ⇒ <code>Promise</code></h3><p>Closes all open positions with market orders</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><a id="module_bfx-hf-strategy.closePosition"></a></p><h3 id="bfx-hf-strategy.closeposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.closeposition-%E2%87%92-promise">§</a> bfx-hf-strategy.closePosition ⇒ <code>Promise</code></h3><p>Closes an open position with an order. Throws an error if no position is open for the order’s symbol.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.closePositionLimit"></a></p><h3 id="bfx-hf-strategy.closepositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.closepositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.closePositionLimit ⇒ <code>Promise</code></h3><p>Closes a position with a limit order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.closePositionMarket"></a></p><h3 id="bfx-hf-strategy.closepositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.closepositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.closePositionMarket ⇒ <code>Promise</code></h3><p>Closes a position with a market order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.closePositionWithOrder"></a></p><h3 id="bfx-hf-strategy.closepositionwithorder-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.closepositionwithorder-%E2%87%92-promise">§</a> bfx-hf-strategy.closePositionWithOrder ⇒ <code>Promise</code></h3><p>Closes an open position with an order. Throws an error if no position is open for the order’s symbol.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if no position is open for the symbol, if the provided order would not close the position, or if given invalid order parameters</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openLongPosition"></a></p><h3 id="bfx-hf-strategy.openlongposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openlongposition-%E2%87%92-promise">§</a> bfx-hf-strategy.openLongPosition ⇒ <code>Promise</code></h3><p>Alias for openPositon</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openLongPositionLimit"></a></p><h3 id="bfx-hf-strategy.openlongpositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openlongpositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.openLongPositionLimit ⇒ <code>Promise</code></h3><p>Opens a new long position with a limit order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openLongPositionMarket"></a></p><h3 id="bfx-hf-strategy.openlongpositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openlongpositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.openLongPositionMarket ⇒ <code>Promise</code></h3><p>Opens a new long position with a market order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openPosition"></a></p><h3 id="bfx-hf-strategy.openposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openposition-%E2%87%92-promise">§</a> bfx-hf-strategy.openPosition ⇒ <code>Promise</code></h3><p>Opens a position with a new order; resolves to an error if a position is already open.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if a position already exists for the specified symbol</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>passed directly to order constructor</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openPositionLimit"></a></p><h3 id="bfx-hf-strategy.openpositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openpositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.openPositionLimit ⇒ <code>Promise</code></h3><p>Opens a new position with a limit order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if a position already exists for the specified symbol</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openPositionMarket"></a></p><h3 id="bfx-hf-strategy.openpositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openpositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.openPositionMarket ⇒ <code>Promise</code></h3><p>Opens a new position with a market order. Pulls order timestamp and price from last received data for the order’s symbol.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> If no timestamp or price data available and none supplied</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openPositionWithOrder"></a></p><h3 id="bfx-hf-strategy.openpositionwithorder-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openpositionwithorder-%E2%87%92-promise">§</a> bfx-hf-strategy.openPositionWithOrder ⇒ <code>Promise</code></h3><p>Submits a new order via ws2 with the supplied parameters, creates a new strategy trade and creates a position.</p><p>If no ws client is available, no data is saved &amp; no order is dispatched</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if a position already exists for the specified symbol</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openShortPosition"></a></p><h3 id="bfx-hf-strategy.openshortposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openshortposition-%E2%87%92-promise">§</a> bfx-hf-strategy.openShortPosition ⇒ <code>Promise</code></h3><p>Opens a short position (negates passed amount)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if a position already exists for the specified symbol</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openShortPositionLimit"></a></p><h3 id="bfx-hf-strategy.openshortpositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openshortpositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.openShortPositionLimit ⇒ <code>Promise</code></h3><p>Opens a short position (negates passed amount)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if a position already exists for the specified symbol</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.openShortPositionMarket"></a></p><h3 id="bfx-hf-strategy.openshortpositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.openshortpositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.openShortPositionMarket ⇒ <code>Promise</code></h3><p>Opens a short position (negates passed amount)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if a position already exists for the specified symbol</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updateLongPosition"></a></p><h3 id="bfx-hf-strategy.updatelongposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updatelongposition-%E2%87%92-promise">§</a> bfx-hf-strategy.updateLongPosition ⇒ <code>Promise</code></h3><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updateLongPositionLimit"></a></p><h3 id="bfx-hf-strategy.updatelongpositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updatelongpositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.updateLongPositionLimit ⇒ <code>Promise</code></h3><p>Updates a long position with a limit order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updateLongPositionMarket"></a></p><h3 id="bfx-hf-strategy.updatelongpositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updatelongpositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.updateLongPositionMarket ⇒ <code>Promise</code></h3><p>Updates a long position with a market order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updatePosition"></a></p><h3 id="bfx-hf-strategy.updateposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updateposition-%E2%87%92-promise">§</a> bfx-hf-strategy.updatePosition ⇒ <code>Promise</code></h3><p>Alias for updatePositionWithOrder</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>passed directly to order constructor</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updatePositionLimit"></a></p><h3 id="bfx-hf-strategy.updatepositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updatepositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.updatePositionLimit ⇒ <code>Promise</code></h3><p>Updates a position with a limit order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updatePositionMarket"></a></p><h3 id="bfx-hf-strategy.updatepositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updatepositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.updatePositionMarket ⇒ <code>Promise</code></h3><p>Updates a new position with a market order. Pulls order timestamp and price from last received data for the order’s symbol.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> If no timestamp or price data available and none supplied</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updatePositionWithOrder"></a></p><h3 id="bfx-hf-strategy.updatepositionwithorder-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updatepositionwithorder-%E2%87%92-promise">§</a> bfx-hf-strategy.updatePositionWithOrder ⇒ <code>Promise</code></h3><p>Submits a new order via ws2 with the supplied parameters, creates a new strategy trade and updates the current position.</p><p>If no ws client is available, no data is saved &amp; no order is dispatched</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p<br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if no position is open for the symbol, if the order would close the position, or if given invalid order parameters</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updateShortPosition"></a></p><h3 id="bfx-hf-strategy.updateshortposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updateshortposition-%E2%87%92-promise">§</a> bfx-hf-strategy.updateShortPosition ⇒ <code>Promise</code></h3><p>Updates a short position (negates passed amount)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updateShortPositionLimit"></a></p><h3 id="bfx-hf-strategy.updateshortpositionlimit-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updateshortpositionlimit-%E2%87%92-promise">§</a> bfx-hf-strategy.updateShortPositionLimit ⇒ <code>Promise</code></h3><p>Updates a short position (negates passed amount)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.updateShortPositionMarket"></a></p><h3 id="bfx-hf-strategy.updateshortpositionmarket-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.updateshortpositionmarket-%E2%87%92-promise">§</a> bfx-hf-strategy.updateShortPositionMarket ⇒ <code>Promise</code></h3><p>Updates a short position (negates passed amount)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>params</td><td><a href="#module_bfx-hf-strategy.OrderParameters"><code>OrderParameters</code></a></td><td>order parameters</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.withNoPosition"></a></p><h3 id="bfx-hf-strategy.withnoposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.withnoposition-%E2%87%92-promise">§</a> bfx-hf-strategy.withNoPosition ⇒ <code>Promise</code></h3><p>Calls the provided async function if no position is open for the symbol</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>[symbol]</td><td><code>string</code></td><td>symbol</td></tr><tr><td>f</td><td><code>function</code></td><td>async function to call if no position is open</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.withPosition"></a></p><h3 id="bfx-hf-strategy.withposition-%E2%87%92-promise"><a class="header-anchor" href="#bfx-hf-strategy.withposition-%E2%87%92-promise">§</a> bfx-hf-strategy.withPosition ⇒ <code>Promise</code></h3><p>Calls the provided async function with the position if it is open</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>Promise</code> - p</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>[symbol]</td><td><code>string</code></td><td>symbol</td></tr><tr><td>f</td><td><code>function</code></td><td>async function to call if position is open</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.minTradeIntervalMet"></a></p><h3 id="bfx-hf-strategy.mintradeintervalmet-%E2%87%92-boolean"><a class="header-anchor" href="#bfx-hf-strategy.mintradeintervalmet-%E2%87%92-boolean">§</a> bfx-hf-strategy.minTradeIntervalMet ⇒ <code>boolean</code></h3><p>Evaluates whether the time since the last strategy trade is greater than the specified interval in milliseconds.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>boolean</code> - intervalMet</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>intervalMS</td><td><code>number</code></td><td>interval in milliseconds</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.enforceMinTradeInterval"></a></p><h3 id="bfx-hf-strategy.enforcemintradeinterval-%3A-function"><a class="header-anchor" href="#bfx-hf-strategy.enforcemintradeinterval-%3A-function">§</a> bfx-hf-strategy.enforceMinTradeInterval : <code>function</code></h3><p>Breaks execution if the time since the last strategy trade is less than the specified interval in milliseconds.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a></p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>intervalMS</td><td><code>number</code></td><td>interval in milliseconds</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.getState"></a></p><h3 id="bfx-hf-strategy.getstate-%E2%87%92-object"><a class="header-anchor" href="#bfx-hf-strategy.getstate-%E2%87%92-object">§</a> bfx-hf-strategy.getState ⇒ <code>object</code></h3><p>Returns the strategy state</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>object</code> - state<br><a id="module_bfx-hf-strategy.getLastPrice"></a></p><h3 id="bfx-hf-strategy.getlastprice-%E2%87%92-number"><a class="header-anchor" href="#bfx-hf-strategy.getlastprice-%E2%87%92-number">§</a> bfx-hf-strategy.getLastPrice ⇒ <code>number</code></h3><p>Returns the last received price (from a trade or candle) for the specified symbol/timeframe pair.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>number</code> - lastPrice</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>defaults to default strategy symbol</td></tr><tr><td>tf</td><td><code>string</code></td><td>defaults to default strategy timeframe</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.indicatorValues"></a></p><h3 id="bfx-hf-strategy.indicatorvalues-%E2%87%92-object"><a class="header-anchor" href="#bfx-hf-strategy.indicatorvalues-%E2%87%92-object">§</a> bfx-hf-strategy.indicatorValues ⇒ <code>object</code></h3><p>Returns a map of indicator values key’ed by indicator ID</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>object</code> - values<br><a id="module_bfx-hf-strategy.indicators"></a></p><h3 id="bfx-hf-strategy.indicators-%E2%87%92-object"><a class="header-anchor" href="#bfx-hf-strategy.indicators-%E2%87%92-object">§</a> bfx-hf-strategy.indicators ⇒ <code>object</code></h3><p>Returns a map of indicators key’ed by ID</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>object</code> - indicators<br><a id="module_bfx-hf-strategy.inAPosition"></a></p><h3 id="bfx-hf-strategy.inaposition-%E2%87%92-boolean"><a class="header-anchor" href="#bfx-hf-strategy.inaposition-%E2%87%92-boolean">§</a> bfx-hf-strategy.inAPosition ⇒ <code>boolean</code></h3><p>Returns true if a position is open for the specified symbol</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>boolean</code> - inPosition</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>defaults to default strategy symbol</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.inALongPosition"></a></p><h3 id="bfx-hf-strategy.inalongposition-%E2%87%92-boolean"><a class="header-anchor" href="#bfx-hf-strategy.inalongposition-%E2%87%92-boolean">§</a> bfx-hf-strategy.inALongPosition ⇒ <code>boolean</code></h3><p>Returns true if a long position is open for the specified symbol.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>boolean</code> - inLongPosition</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>defaults to default strategy symbol</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.inAShortPosition"></a></p><h3 id="bfx-hf-strategy.inashortposition-%E2%87%92-boolean"><a class="header-anchor" href="#bfx-hf-strategy.inashortposition-%E2%87%92-boolean">§</a> bfx-hf-strategy.inAShortPosition ⇒ <code>boolean</code></h3><p>Returns true if a short position is open for the specified symbol.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Returns</strong>: <code>boolean</code> - inShortPosition</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>defaults to default strategy symbol</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.condition"></a></p><h3 id="bfx-hf-strategy.condition-%3A-function"><a class="header-anchor" href="#bfx-hf-strategy.condition-%3A-function">§</a> bfx-hf-strategy.condition : <code>function</code></h3><p>Interrupts execution if the condition is not meant. Either parameter to the condition can be an indicator ID or literal. If given an indicator ID and the indicator has sub-values (i.e. bollinger bands), the sub-value name can be specified following a dot after the indicator name (i.e. ‘bb.middle’)</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if given an unknown indicator ID. Logs an error if executing live.</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>a</td><td><code>string</code> | <code>number</code></td><td>indicator ID or literal</td></tr><tr><td>condition</td><td><code>string</code></td><td>one of (=, ==, eq), (!=, !==, neq), (&gt;, gt), (&gt;=, gte), (&lt;, lt), or (&lt;=, lte)</td></tr><tr><td>b</td><td><code>string</code> | <code>number</code></td><td>indicator ID or literal</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.conditionIndicatorCrossed"></a></p><h3 id="bfx-hf-strategy.conditionindicatorcrossed-%3A-function"><a class="header-anchor" href="#bfx-hf-strategy.conditionindicatorcrossed-%3A-function">§</a> bfx-hf-strategy.conditionIndicatorCrossed : <code>function</code></h3><p>Interrupts execution if the specified indicator did not cross the provided literal value. Always breaks execution when given an unknown indicator ID and running live.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if an unknown indicator was specified and backtesting. Logs an error if executing live.</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>iID</td><td><code>string</code></td><td>ID of indicator</td></tr><tr><td>v</td><td><code>number</code></td><td>literal value</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.conditionIndicatorsCrossed"></a></p><h3 id="bfx-hf-strategy.conditionindicatorscrossed-%3A-function"><a class="header-anchor" href="#bfx-hf-strategy.conditionindicatorscrossed-%3A-function">§</a> bfx-hf-strategy.conditionIndicatorsCrossed : <code>function</code></h3><p>Interrupts execution if the specified indicators did not cross values. Always breaks execution when given an uknown indicator ID and running live.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Throws</strong>:</p><ul><li><code>Error</code> Fails if either indicator ID is unknown and backtesting. Logs an error if executing live.</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>iaID</td><td><code>string</code></td><td>ID of first indicator</td></tr><tr><td>ibID</td><td><code>string</code></td><td>ID of second indicator</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.conditionInAPosition"></a></p><h3 id="bfx-hf-strategy.conditioninaposition-%3A-function"><a class="header-anchor" href="#bfx-hf-strategy.conditioninaposition-%3A-function">§</a> bfx-hf-strategy.conditionInAPosition : <code>function</code></h3><p>Interrupts strategy execution if not in a position for the specified symbol</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a></p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>defaults to default strategy symbol</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.Helpers"></a></p><h3 id="bfx-hf-strategy.helpers-%3A-object"><a class="header-anchor" href="#bfx-hf-strategy.helpers-%3A-object">§</a> bfx-hf-strategy.Helpers : <code>object</code></h3><p>A set of utility functions bound to the strategy they are used in, providing control over strategy execution, access to data, and order manipulation methods.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>trades</td><td><a href="#module_bfx-hf-strategy.trades"><code>trades</code></a></td><td><a href="#module_bfx-hf-strategy.trades">function</a></td></tr><tr><td>closeOpenPositions</td><td><a href="#module_bfx-hf-strategy.closeOpenPositions"><code>closeOpenPositions</code></a></td><td><a href="#module_bfx-hf-strategy.closeOpenPositions">function</a></td></tr><tr><td>closePosition</td><td><a href="#module_bfx-hf-strategy.closePosition"><code>closePosition</code></a></td><td><a href="#module_bfx-hf-strategy.closePosition">function</a></td></tr><tr><td>closePositionLimit</td><td><a href="#module_bfx-hf-strategy.closePositionLimit"><code>closePositionLimit</code></a></td><td><a href="#module_bfx-hf-strategy.closePositionLimit">function</a></td></tr><tr><td>closePositionMarket</td><td><a href="#module_bfx-hf-strategy.closePositionMarket"><code>closePositionMarket</code></a></td><td><a href="#module_bfx-hf-strategy.closePositionMarket">function</a></td></tr><tr><td>closePositionWithOrder</td><td><a href="#module_bfx-hf-strategy.closePositionWithOrder"><code>closePositionWithOrder</code></a></td><td><a href="#module_bfx-hf-strategy.closePositionWithOrder">function</a></td></tr><tr><td>openLongPosition</td><td><a href="#module_bfx-hf-strategy.openLongPosition"><code>openLongPosition</code></a></td><td><a href="#module_bfx-hf-strategy.openLongPosition">function</a></td></tr><tr><td>openLongPositionLimit</td><td><a href="#module_bfx-hf-strategy.openLongPositionLimit"><code>openLongPositionLimit</code></a></td><td><a href="#module_bfx-hf-strategy.openLongPositionLimit">function</a></td></tr><tr><td>openLongPositionMarket</td><td><a href="#module_bfx-hf-strategy.openLongPositionMarket"><code>openLongPositionMarket</code></a></td><td><a href="#module_bfx-hf-strategy.openLongPositionMarket">function</a></td></tr><tr><td>openPosition</td><td><a href="#module_bfx-hf-strategy.openPosition"><code>openPosition</code></a></td><td><a href="#module_bfx-hf-strategy.openPosition">function</a></td></tr><tr><td>openPositionLimit</td><td><a href="#module_bfx-hf-strategy.openPositionLimit"><code>openPositionLimit</code></a></td><td><a href="#module_bfx-hf-strategy.openPositionLimit">function</a></td></tr><tr><td>openPositionMarket</td><td><a href="#module_bfx-hf-strategy.openPositionMarket"><code>openPositionMarket</code></a></td><td><a href="#module_bfx-hf-strategy.openPositionMarket">function</a></td></tr><tr><td>openPositionWithOrder</td><td><a href="#module_bfx-hf-strategy.openPositionWithOrder"><code>openPositionWithOrder</code></a></td><td><a href="#module_bfx-hf-strategy.openPositionWithOrder">function</a></td></tr><tr><td>openShortPosition</td><td><a href="#module_bfx-hf-strategy.openShortPosition"><code>openShortPosition</code></a></td><td><a href="#module_bfx-hf-strategy.openShortPosition">function</a></td></tr><tr><td>openShortPositionLimit</td><td><a href="#module_bfx-hf-strategy.openShortPositionLimit"><code>openShortPositionLimit</code></a></td><td><a href="#module_bfx-hf-strategy.openShortPositionLimit">function</a></td></tr><tr><td>openShortPositionMarket</td><td><a href="#module_bfx-hf-strategy.openShortPositionMarket"><code>openShortPositionMarket</code></a></td><td><a href="#module_bfx-hf-strategy.openShortPositionMarket">function</a></td></tr><tr><td>updateLongPosition</td><td><a href="#module_bfx-hf-strategy.updateLongPosition"><code>updateLongPosition</code></a></td><td><a href="#module_bfx-hf-strategy.updateLongPosition">function</a></td></tr><tr><td>updateLongPositionLimit</td><td><a href="#module_bfx-hf-strategy.updateLongPositionLimit"><code>updateLongPositionLimit</code></a></td><td><a href="#module_bfx-hf-strategy.updateLongPositionLimit">function</a></td></tr><tr><td>updateLongPositionMarket</td><td><a href="#module_bfx-hf-strategy.updateLongPositionMarket"><code>updateLongPositionMarket</code></a></td><td><a href="#module_bfx-hf-strategy.updateLongPositionMarket">function</a></td></tr><tr><td>updatePosition</td><td><a href="#module_bfx-hf-strategy.updatePosition"><code>updatePosition</code></a></td><td><a href="#module_bfx-hf-strategy.updatePosition">function</a></td></tr><tr><td>updatePositionMarket</td><td><a href="#module_bfx-hf-strategy.updatePositionMarket"><code>updatePositionMarket</code></a></td><td><a href="#module_bfx-hf-strategy.updatePositionMarket">function</a></td></tr><tr><td>updatePositionWithOrder</td><td><a href="#module_bfx-hf-strategy.updatePositionWithOrder"><code>updatePositionWithOrder</code></a></td><td><a href="#module_bfx-hf-strategy.updatePositionWithOrder">function</a></td></tr><tr><td>updateShortPosition</td><td><a href="#module_bfx-hf-strategy.updateShortPosition"><code>updateShortPosition</code></a></td><td><a href="#module_bfx-hf-strategy.updateShortPosition">function</a></td></tr><tr><td>updateShortPositionLimit</td><td><a href="#module_bfx-hf-strategy.updateShortPositionLimit"><code>updateShortPositionLimit</code></a></td><td><a href="#module_bfx-hf-strategy.updateShortPositionLimit">function</a></td></tr><tr><td>withNoPosition</td><td><a href="#module_bfx-hf-strategy.withNoPosition"><code>withNoPosition</code></a></td><td><a href="#module_bfx-hf-strategy.withNoPosition">function</a></td></tr><tr><td>withPosition</td><td><a href="#module_bfx-hf-strategy.withPosition"><code>withPosition</code></a></td><td><a href="#module_bfx-hf-strategy.withPosition">function</a></td></tr><tr><td>minTradeIntervalMet</td><td><a href="#module_bfx-hf-strategy.minTradeIntervalMet"><code>minTradeIntervalMet</code></a></td><td><a href="#module_bfx-hf-strategy.minTradeIntervalMet">function</a></td></tr><tr><td>enforceMinTradeInterval</td><td><a href="#module_bfx-hf-strategy.enforceMinTradeInterval"><code>enforceMinTradeInterval</code></a></td><td><a href="#module_bfx-hf-strategy.enforceMinTradeInterval">function</a></td></tr><tr><td>getState</td><td><a href="#module_bfx-hf-strategy.getState"><code>getState</code></a></td><td><a href="#module_bfx-hf-strategy.getState">function</a></td></tr><tr><td>getLastPrice</td><td><a href="#module_bfx-hf-strategy.getLastPrice"><code>getLastPrice</code></a></td><td><a href="#module_bfx-hf-strategy.getLastPrice">function</a></td></tr><tr><td>indicatorValues</td><td><a href="#module_bfx-hf-strategy.indicatorValues"><code>indicatorValues</code></a></td><td><a href="#module_bfx-hf-strategy.indicatorValues">function</a></td></tr><tr><td>indicators</td><td><a href="#module_bfx-hf-strategy.indicators"><code>indicators</code></a></td><td><a href="#module_bfx-hf-strategy.indicators">function</a></td></tr><tr><td>inAPosition</td><td><a href="#module_bfx-hf-strategy.inAPosition"><code>inAPosition</code></a></td><td><a href="#module_bfx-hf-strategy.inAPosition">function</a></td></tr><tr><td>inALongPosition</td><td><a href="#module_bfx-hf-strategy.inALongPosition"><code>inALongPosition</code></a></td><td><a href="#module_bfx-hf-strategy.inALongPosition">function</a></td></tr><tr><td>inAShortPosition</td><td><a href="#module_bfx-hf-strategy.inAShortPosition"><code>inAShortPosition</code></a></td><td><a href="#module_bfx-hf-strategy.inAShortPosition">function</a></td></tr><tr><td>condition</td><td><a href="#module_bfx-hf-strategy.condition"><code>condition</code></a></td><td><a href="#module_bfx-hf-strategy.condition">function</a></td></tr><tr><td>conditionIndicatorCrossed</td><td><a href="#module_bfx-hf-strategy.conditionIndicatorCrossed"><code>conditionIndicatorCrossed</code></a></td><td><a href="#module_bfx-hf-strategy.conditionIndicatorCrossed">function</a></td></tr><tr><td>conditionIndicatorsCrossed</td><td><a href="#module_bfx-hf-strategy.conditionIndicatorsCrossed"><code>conditionIndicatorsCrossed</code></a></td><td><a href="#module_bfx-hf-strategy.conditionIndicatorsCrossed">function</a></td></tr><tr><td>conditionInAPosition</td><td><a href="#module_bfx-hf-strategy.conditionInAPosition"><code>conditionInAPosition</code></a></td><td><a href="#module_bfx-hf-strategy.conditionInAPosition">function</a></td></tr></tbody></table><p><a id="module_bfx-hf-strategy.OrderParameters"></a></p><h3 id="bfx-hf-strategy.orderparameters-%3A-object"><a class="header-anchor" href="#bfx-hf-strategy.orderparameters-%3A-object">§</a> bfx-hf-strategy.OrderParameters : <code>object</code></h3><p>Parameters defining an atomic order</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>[id]</td><td><code>number</code></td><td>ID</td></tr><tr><td>[gid]</td><td><code>number</code></td><td>group ID</td></tr><tr><td>[cid]</td><td><code>number</code></td><td>client ID</td></tr><tr><td>[mtsTIF]</td><td><code>number</code></td><td>TIF timestamp</td></tr><tr><td>[flags]</td><td><code>number</code></td><td>order flags</td></tr><tr><td>[tag]</td><td><code>string</code></td><td>string rendered in execution results, and attached to the trade associated with the order. used for specifying meta information about the order i.e. event that triggered it. Identical tags are grouped together in execution results</td></tr><tr><td>[label]</td><td><code>string</code></td><td>rendered in the Bitfinex UI</td></tr><tr><td>price</td><td><code>number</code></td><td>desired excution price, required even for <code>MARKET</code> orders in order to have a fill price when backtesting.</td></tr><tr><td>[priceTrailing]</td><td><code>string</code></td><td>trailing distance for TRAILING STOP orders</td></tr><tr><td>[priceAuxLimit]</td><td><code>string</code></td><td>stop price for STOP LIMIT and OCO orders</td></tr><tr><td>amount</td><td><code>number</code></td><td>order amount</td></tr><tr><td>[type]</td><td><code>string</code></td><td>i.e. stop, stop-limit. May be required if using an order creation method that does not set it</td></tr><tr><td>[affiliateCode]</td><td><code>string</code></td><td>affiliate code</td></tr><tr><td>[lev]</td><td><code>number</code></td><td>leverage</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.PositionParameters"></a></p><h3 id="bfx-hf-strategy.positionparameters"><a class="header-anchor" href="#bfx-hf-strategy.positionparameters">§</a> bfx-hf-strategy.PositionParameters</h3><p>Parameters used to create a new position</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>price</td><td><code>number</code></td><td>price</td></tr><tr><td>symbol</td><td><code>string</code></td><td>symbol</td></tr><tr><td>amount</td><td><code>number</code></td><td>amount</td></tr><tr><td>[trades]</td><td><code>Array.&lt;object&gt;</code></td><td>trades that affected the position</td></tr><tr><td>[tag]</td><td><code>string</code></td><td>position label, visible in results output</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.StrategyDefinition"></a></p><h3 id="bfx-hf-strategy.strategydefinition-%3A-object"><a class="header-anchor" href="#bfx-hf-strategy.strategydefinition-%3A-object">§</a> bfx-hf-strategy.StrategyDefinition : <code>object</code></h3><p>A set of parameters defining a trading strategy. Can be passed to <a href="#module_bfx-hf-strategy.defineStrategy">defineStrategy</a> to obtain a <a href="#module_bfx-hf-strategy.StrategyState">StrategyState</a> object which can then be used with either <a href="module:bfx-hf-backtest">bfx-hf-backtest</a> for backtesting on historical data, or <a href="module:bfx-hf-strategy-exec">bfx-hf-strategy-exec</a> for live execution.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td><td></td><td>strategy ID</td></tr><tr><td>name</td><td><code>string</code></td><td></td><td>strategy name (human readable)</td></tr><tr><td>makerFee</td><td><code>number</code></td><td></td><td>maker fee as percent</td></tr><tr><td>takerFee</td><td><code>number</code></td><td></td><td>taker fee as percent</td></tr><tr><td>[simulateLiveCandleEnabled]</td><td><code>boolean</code></td><td><code>false</code></td><td>if true, generates random trades for each candle</td></tr><tr><td>[plugins]</td><td><code>Array.&lt;object&gt;</code></td><td></td><td>array of plugins</td></tr><tr><td>[margin]</td><td><code>boolean</code></td><td></td><td>if true, trades on margin, otherwise exchange</td></tr><tr><td>[symbol]</td><td><code>string</code></td><td></td><td>default symbol for data/trades</td></tr><tr><td>[tf]</td><td><code>string</code></td><td></td><td>default candle time frame</td></tr><tr><td>[candlePrice]</td><td><code>string</code></td><td><code>&quot;'close'&quot;</code></td><td>key to access on candle for price</td></tr><tr><td>[indicators]</td><td><code>object</code></td><td></td><td>managed indicators map</td></tr><tr><td>exec</td><td><code>function</code></td><td></td><td>strategy logic, called on every price update</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.StrategyPosition"></a></p><h3 id="bfx-hf-strategy.strategyposition-%3A-object"><a class="header-anchor" href="#bfx-hf-strategy.strategyposition-%3A-object">§</a> bfx-hf-strategy.StrategyPosition : <code>object</code></h3><p>An object representing a strategy position in a market, including all relevant <a href="#module_bfx-hf-strategy.StrategyTrade">trades</a>.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>symbol</td></tr><tr><td>price</td><td><code>number</code></td><td>current base price</td></tr><tr><td>amount</td><td><code>number</code></td><td>total position amount</td></tr><tr><td>trades</td><td><a href="#module_bfx-hf-strategy.StrategyTrade"><code>Array.&lt;StrategyTrade&gt;</code></a></td><td>all trades relevant to this position, in order of execution.</td></tr><tr><td>[tag]</td><td><code>string</code></td><td>metadata accessible at runtime</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.StrategyState"></a></p><h3 id="bfx-hf-strategy.strategystate"><a class="header-anchor" href="#bfx-hf-strategy.strategystate">§</a> bfx-hf-strategy.StrategyState</h3><p>Strategy state updated throughout the lifetime of a strategy, used for both backtesting and live execution. The core of this library.</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td><td>strategy ID</td></tr><tr><td>name</td><td><code>string</code></td><td>strategy name (human readable)</td></tr><tr><td>[candlePrice]</td><td><code>string</code></td><td>key on candle from which to pull price, used for updating indicators. Defaults to ‘close’</td></tr><tr><td>marketData</td><td><code>object</code></td><td>internal map of market data, trades and candles</td></tr><tr><td>positions</td><td><code>object</code></td><td>internal map of positions key’ed by symbol</td></tr><tr><td>trades</td><td><code>Array.&lt;object&gt;</code></td><td>array of trades performed by the strategy</td></tr><tr><td>[plugins]</td><td><code>Array.&lt;object&gt;</code></td><td>array of plugins</td></tr><tr><td>[margin]</td><td><code>boolean</code></td><td>if true, trades on margin, otherwise exchange</td></tr><tr><td>[symbol]</td><td><code>string</code></td><td>default symbol for data/trades</td></tr><tr><td>[tf]</td><td><code>string</code></td><td>default candle time frame</td></tr><tr><td>[indicators]</td><td><code>object</code></td><td>managed indicators map</td></tr><tr><td>[onPriceUpdate]</td><td><code>function</code></td><td>called on every price update</td></tr><tr><td>[onEnter]</td><td><code>function</code></td><td>called when a position is opened</td></tr><tr><td>[onUpdate]</td><td><code>function</code></td><td>called on every price update if a position is open</td></tr><tr><td>[onUpdateLong]</td><td><code>function</code></td><td>called if a long position is open</td></tr><tr><td>[onUpdateShort]</td><td><code>function</code></td><td>called if a short position is open closed</td></tr><tr><td>[onPositionOpen]</td><td><code>function</code></td><td>called when a position is opened</td></tr><tr><td>[onPositionUpdate]</td><td><code>function</code></td><td>called when a position is updated</td></tr><tr><td>[onPositionClose]</td><td><code>function</code></td><td>called when a position is closed</td></tr><tr><td>[onStart]</td><td><code>function</code></td><td>called on strategy execution start</td></tr><tr><td>[onStop]</td><td><code>function</code></td><td>called on strategy execution end</td></tr></tbody></table><p><a id="module_bfx-hf-strategy.StrategyTrade"></a></p><h3 id="bfx-hf-strategy.strategytrade"><a class="header-anchor" href="#bfx-hf-strategy.strategytrade">§</a> bfx-hf-strategy.StrategyTrade</h3><p>A trade performed by a strategy</p><p><strong>Kind</strong>: static typedef of <a href="#module_bfx-hf-strategy"><code>bfx-hf-strategy</code></a><br><strong>Properties</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>symbol</td><td><code>string</code></td><td>symbol</td></tr><tr><td>label</td><td><code>string</code></td><td>informative label shown in generated strategy results</td></tr><tr><td>tag</td><td><code>string</code></td><td>like label, but meant to be used internally for identifying the nature of the trade (i.e. ‘rsi-high’, etc)</td></tr><tr><td>amount</td><td><code>number</code></td><td>amount</td></tr><tr><td>price</td><td><code>number</code></td><td>price</td></tr><tr><td>pl</td><td><code>number</code></td><td>profit/loss relative to prior trades made on the same symbol</td></tr><tr><td>mts</td><td><code>number</code></td><td>creation timestamp</td></tr><tr><td>mtsCreate</td><td><code>number</code></td><td>order creation timestamp</td></tr><tr><td>orderID</td><td><code>number</code></td><td>ID of the trade’s order</td></tr><tr><td>orderPrice</td><td><code>number</code></td><td>price of the trade’s order</td></tr><tr><td>orderStatus</td><td><code>string</code></td><td>status of the trade’s order</td></tr><tr><td>orderJS</td><td><code>object</code></td><td>POJO of the trade’s order</td></tr><tr><td>maker</td><td><code>boolean</code></td><td>true if the trade inserted an order into the book</td></tr><tr><td>fee</td><td><code>number</code></td><td>fee amount</td></tr><tr><td>feeCCY</td><td><code>string</code></td><td>fee currency</td></tr><tr><td>positionID</td><td><code>string</code></td><td>ID of position the trade affected, if any</td></tr><tr><td>iv</td><td><code>object</code></td><td>indicator values at the moment the trade was created</td></tr></tbody></table></div></div><!--
      <div id="bfx-oss-docs-footer-bar">
        <div id="bfx-oss-docs-footer-bar__container">
          <p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p>
        </div>
      </div>
      --></div><script type="text/javascript" src="js/vendor/debug.min.js"></script><script type="text/javascript" src="js/vendor/lodash.min.js"></script><script type="text/javascript" src="js/vendor/zepto.min.js"></script><script type="text/javascript" src="js/vendor/perfect-scrollbar.min.js"></script><script type="text/javascript" src="js/main.js"></script></body></html>