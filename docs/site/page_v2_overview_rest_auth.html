<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/index.css"><link rel="stylesheet" type="text/css" href="/css/highlightjs/ir-black.css"><title></title></head><body><div id="bfx-oss-docs-side-bar"><img id="bfx-oss-docs-side-bar__header" src="/img/bfx-logo-bg-white.png" alt="Bitfinex" height="64"><ul id="bfx-oss-docs-side-bar__main-menu"><li><a href="/index.html">Home</a></li><li><a href="/page_v2_overview_introduction.html">API v2 Overview</a></li><li><a href="/page_v2_reference.html">API v2 Reference</a></li><li><a href="/page_v1_overview_introduction.html">API v1 Overview</a></li><li><a href="/page_v1_reference.html">API v1 Reference</a></li><li><a href="/page_oss_projects.html">Open Source Projects</a></li></ul><div class="bfx-oss-docs-side-bar__sub-menu" id="bfx-oss-docs-side-bar__api-reference-menu"><h6>Authenticated Endpoints</h6><ul><li><a href="/page_v2_overview_abbreviations_glossary.html">Abbreviation Glossary</a></li><li><a href="/page_v2_overview_changelog.html">Changelog</a></li><li><a href="/page_v2_overview_derivatives.html">API Derivatives Trading</a></li><li><a href="/page_v2_overview_flag_values.html">Flag Values</a></li><li><a href="/page_v2_overview_honey_framework.html">Honey Framework</a></li><li><a href="/page_v2_overview_introduction.html">Introduction</a></li><li><a href="/page_v2_overview_open_source_libraries.html">Open Source Libraries</a></li><li><a href="/page_v2_overview_requirements_and_limitations.html">Requirements and Limitations</a></li><li><a href="/page_v2_overview_rest_auth.html">Authenticated Endpoints</a></li><li><a href="/page_v2_overview_rest_general.html">General</a></li><li><a href="/page_v2_overview_rest_public.html">Public Endpoints</a></li><li><a href="/page_v2_overview_rest_reading_the_api_documentation.html">Reading the Documentation (REST)</a></li><li><a href="/page_v2_overview_showcase.html">Showcase</a></li><li><a href="/page_v2_overview_ui_goodies.html">UI Goodies</a></li><li><a href="/page_v2_overview_ws_auth.html">Authenticated Channels</a></li><li><a href="/page_v2_overview_ws_general.html">General</a></li><li><a href="/page_v2_overview_ws_public.html">Public Channels</a></li><li><a href="/page_v2_overview_ws_reading_the_documentation.html">Reading the Documentation (WS)</a></li></ul></div></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>Documentation</h2><h2>Authenticated Endpoints</h2></div><div class="bfx-oss-docs-content-wrapper"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><p>###URL</p><p>Authenticated endoints should use the domain: <a href="https://api.bitfinex.com">https://api.bitfinex.com</a></p><p>All authenticated examples assume the following:</p><ul><li>You are using the ‘request’ HTTP library</li><li>You are using your API key and API Secret key</li><li>Your “signature”, “sig” and “nonce” variables follow the same format that is listed below</li><li>Your “options” variable (or equivalent) follows the same format listed below and includes the ‘bfx-nonce’, ‘bfx-apikey’, and ‘bfx-signature’ HTTP encoded headers.</li></ul><p>Below is the example code for authenticated endpoints. The example code uses the v2/auth/r/wallets endpoint.</p><pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> CryptoJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto-js'</span>) <span class="hljs-comment">// Standard JavaScript cryptography library</span>
<span class="hljs-keyword">const</span> request = <span class="hljs-built_in">require</span>(<span class="hljs-string">'request'</span>) <span class="hljs-comment">// "Request" HTTP req library</span>
   
<span class="hljs-keyword">const</span> apiKey = <span class="hljs-string">''</span> <span class="hljs-comment">// const apiKey = 'paste key here'</span>
<span class="hljs-keyword">const</span> apiSecret = <span class="hljs-string">''</span> <span class="hljs-comment">// const apiSecret = 'paste secret here'</span>

<span class="hljs-keyword">const</span> apiPath = <span class="hljs-string">'v2/auth/r/wallets'</span><span class="hljs-comment">// Example path</span>

<span class="hljs-keyword">const</span> nonce = (<span class="hljs-built_in">Date</span>.now() * <span class="hljs-number">1000</span>).toString() <span class="hljs-comment">// Standard nonce generator. Timestamp * 1000</span>
<span class="hljs-keyword">const</span> body = {} <span class="hljs-comment">// Field you may change depending on endpoint</span>

<span class="hljs-keyword">let</span> signature = <span class="hljs-string">`/api/<span class="hljs-subst">${apiPath}</span><span class="hljs-subst">${nonce}</span><span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(body)}</span>`</span> 
<span class="hljs-comment">// Consists of the complete url, nonce, and request body</span>

<span class="hljs-keyword">const</span> sig = CryptoJS.HmacSHA384(signature, apiSecret).toString() 
<span class="hljs-comment">// The authentication signature is hashed using the private key</span>

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">url</span>: <span class="hljs-string">`https://api.bitfinex.com/<span class="hljs-subst">${apiPath}</span>`</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">'bfx-nonce'</span>: nonce,
    <span class="hljs-string">'bfx-apikey'</span>: apiKey,
    <span class="hljs-string">'bfx-signature'</span>: sig
  },
  <span class="hljs-attr">body</span>: body,
  <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>
}

request.post(options, (error, response, body) =&gt; {
  <span class="hljs-built_in">console</span>.log(body); <span class="hljs-comment">// Logs the response body</span>
})
</code></pre><p>###Path and Path Parameters</p><p>If you wish to retrieve data from or send data to a different endpoint, simply change the apiPath variable in the example code. Any Path Parameters that you would like to use are appended to the apiPath variable.</p><p>###Form Data and Query Parameters</p><p>Other parameters (listed in the documentation as “Form Data” or “Query Params”) are added to the body object as key: value pairs. Here’s an example of the code used to place an order through the API using &quot;v2/auth/w/order/submit” and a body object:</p><pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> CryptoJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto-js'</span>) <span class="hljs-comment">// Standard JavaScript cryptography library</span>
<span class="hljs-keyword">const</span> request = <span class="hljs-built_in">require</span>(<span class="hljs-string">'request'</span>) <span class="hljs-comment">// "Request" HTTP req library</span>
   
<span class="hljs-keyword">const</span> apiKey = <span class="hljs-string">''</span> <span class="hljs-comment">// const apiKey = 'paste key here'</span>
<span class="hljs-keyword">const</span> apiSecret = <span class="hljs-string">''</span> <span class="hljs-comment">// const apiSecret = 'paste secret here'</span>

<span class="hljs-keyword">const</span> apiPath = <span class="hljs-string">'v2/auth/w/order/submit'</span><span class="hljs-comment">// Example path</span>

<span class="hljs-keyword">const</span> nonce = (<span class="hljs-built_in">Date</span>.now() * <span class="hljs-number">1000</span>).toString() <span class="hljs-comment">// Standard nonce generator. Timestamp * 1000</span>
<span class="hljs-keyword">const</span> body = {
		<span class="hljs-attr">type</span>: <span class="hljs-string">'LIMIT'</span>,
    <span class="hljs-attr">symbol</span>: <span class="hljs-string">'tBTCUSD'</span>,
    <span class="hljs-attr">price</span>: <span class="hljs-string">'15'</span>,
    <span class="hljs-attr">amount</span>: <span class="hljs-string">'0.1'</span>
} <span class="hljs-comment">// Field you may change depending on endpoint</span>

<span class="hljs-keyword">let</span> signature = <span class="hljs-string">`/api/<span class="hljs-subst">${apiPath}</span><span class="hljs-subst">${nonce}</span><span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(body)}</span>`</span> 
<span class="hljs-comment">// Consists of the complete url, nonce, and request body</span>

<span class="hljs-keyword">const</span> sig = CryptoJS.HmacSHA384(signature, apiSecret).toString() 
<span class="hljs-comment">// The authentication signature is hashed using the private key</span>

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">url</span>: <span class="hljs-string">`https://api.bitfinex.com/<span class="hljs-subst">${apiPath}</span>`</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">'bfx-nonce'</span>: nonce,
    <span class="hljs-string">'bfx-apikey'</span>: apiKey,
    <span class="hljs-string">'bfx-signature'</span>: sig
  },
  <span class="hljs-attr">body</span>: body,
  <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>
}

request.post(options, (error, response, body) =&gt; {
  <span class="hljs-built_in">console</span>.log(body); <span class="hljs-comment">// Logs the response body</span>
})
</code></pre><p>###REST Authenticated Endpoints</p><p><strong>Wallets</strong></p><ul><li><a href="ref:rest-auth-wallets">Wallets</a></li><li><a href="ref:rest-auth-wallets-hist">Wallets History</a></li></ul><p><strong>Orders</strong></p><ul><li><a href="ref:rest-auth-orders">Retrieve Orders</a></li><li><a href="ref:rest-auth-submit-order">Submit Order</a></li><li><a href="ref:rest-auth-order-update">Order Update</a></li><li><a href="ref:rest-auth-cancel-order">Cancel Order</a></li><li><a href="ref:rest-auth-order-multi">Order Multi-OP</a></li><li><a href="ref:rest-auth-order-cancel-multi">Cancel Order Multi</a></li><li><a href="ref:rest-auth-orders-history">Orders History</a></li><li><a href="ref:rest-auth-order-trades">Order Trades</a></li><li><a href="ref:rest-auth-trades">Trades</a></li><li><a href="ref:rest-auth-ledgers">Ledgers</a></li></ul><p><strong>Positions</strong></p><ul><li><a href="https://docs.bitfinex.com/reference#rest-auth-info-margin">Margin Info</a></li><li><a href="https://docs.bitfinex.com/reference#rest-auth-positions">Retrieve Positions</a></li><li><a href="https://docs.bitfinex.com/reference#rest-auth-position-claim">Claim Position</a></li><li><a href="https://docs.bitfinex.com/reference#rest-auth-positions-hist">Positions History</a></li><li><a href="https://docs.bitfinex.com/reference#rest-auth-positions-audit">Positions Audit</a></li><li><a href="https://docs.bitfinex.com/reference#rest-auth-deriv-pos-collateral-set">Derivative Position Collateral</a></li></ul><p><strong>Margin Funding</strong></p><ul><li><a href="ref:rest-auth-funding-offers">Funding Offers</a></li><li><a href="ref:rest-auth-submit-funding-offer">Submit Funding Offer</a></li><li><a href="ref:rest-auth-cancel-funding-offer">Cancel Funding Offer</a></li><li><a href="ref:rest-auth-cancel-all-funding-offers">Cancel All Funding Offers</a></li><li><a href="ref:rest-auth-funding-close">Funding Close</a></li><li><a href="ref:rest-auth-funding-auto-renew">Funding Auto-renew</a></li><li><a href="ref:rest-auth-keep-funding">Keep Funding</a></li><li><a href="ref:rest-auth-funding-offers">Funding Offers</a></li><li><a href="ref:rest-auth-funding-loans">Funding Loans</a></li><li><a href="ref:rest-auth-funding-loans-hist">Funding Loans History</a></li><li><a href="ref:rest-auth-funding-credits">Funding Credits</a></li><li><a href="ref:rest-auth-funding-credits-hist">Funding Credits History</a></li><li><a href="ref:rest-auth-funding-trades-hist">Funding Trades</a></li><li><a href="ref:rest-auth-info-funding">Funding Info</a></li></ul><p><strong>Account Actions</strong></p><ul><li><a href="ref:rest-auth-info-user">User Info</a></li><li><a href="ref:rest-auth-transfer">Transfer Between Wallets</a></li><li><a href="ref:rest-auth-deposit-address">Deposit Address</a></li><li><a href="ref:rest-auth-withdraw">Withdrawal</a></li><li><a href="ref:rest-auth-movements">Movements</a></li><li><a href="ref:rest-auth-alerts">Alert List</a></li><li><a href="ref:rest-auth-alert-set">Alert Set</a></li><li><a href="ref:rest-auth-alert-del">Alert Delete</a></li><li><a href="ref:rest-auth-calc-order-avail">Balance Available for Orders/Offers</a></li><li><a href="ref:rest-auth-settings-set">User Settings Write</a></li><li><a href="ref:rest-auth-settings">User Settings Read</a></li><li><a href="ref:rest-auth-settings-del">User Settings Delete</a></li></ul></div></div><div id="bfx-oss-docs-footer-bar"><div id="bfx-oss-docs-footer-bar__container"><p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p></div></div></div><script type="text/javascript" src="/js/vendor/zepto.min.js"></script><script type="text/javascript" src="/js/vendor/lodash.min.js"></script><script type="text/javascript" src="/js/vendor/debug.min.js"></script><script type="text/javascript" src="/js/debug_init.js"></script></body></html>