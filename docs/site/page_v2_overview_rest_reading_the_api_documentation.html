<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/index.css"><link rel="stylesheet" type="text/css" href="/css/highlightjs/ir-black.css"><title></title></head><body><div id="bfx-oss-docs-side-bar"><img id="bfx-oss-docs-side-bar__header" src="/img/bfx-logo-bg-white.png" alt="Bitfinex" height="64"><ul id="bfx-oss-docs-side-bar__main-menu"><li><a href="/index.html">Home</a></li><li><a href="/page_v2_overview_introduction.html">API v2 Overview</a></li><li><a href="/page_v2_reference.html">API v2 Reference</a></li><li><a href="/page_v1_overview_introduction.html">API v1 Overview</a></li><li><a href="/page_v1_reference.html">API v1 Reference</a></li><li><a href="/page_oss_projects.html">Open Source Projects</a></li></ul><div class="bfx-oss-docs-side-bar__sub-menu" id="bfx-oss-docs-side-bar__api-reference-menu"><h6>Reading the Documentation (REST)</h6><ul><li><a href="/page_v2_overview_abbreviations_glossary.html">Abbreviation Glossary</a></li><li><a href="/page_v2_overview_changelog.html">Changelog</a></li><li><a href="/page_v2_overview_derivatives.html">API Derivatives Trading</a></li><li><a href="/page_v2_overview_flag_values.html">Flag Values</a></li><li><a href="/page_v2_overview_honey_framework.html">Honey Framework</a></li><li><a href="/page_v2_overview_introduction.html">Introduction</a></li><li><a href="/page_v2_overview_open_source_libraries.html">Open Source Libraries</a></li><li><a href="/page_v2_overview_requirements_and_limitations.html">Requirements and Limitations</a></li><li><a href="/page_v2_overview_rest_auth.html">Authenticated Endpoints</a></li><li><a href="/page_v2_overview_rest_general.html">General</a></li><li><a href="/page_v2_overview_rest_public.html">Public Endpoints</a></li><li><a href="/page_v2_overview_rest_reading_the_api_documentation.html">Reading the Documentation (REST)</a></li><li><a href="/page_v2_overview_showcase.html">Showcase</a></li><li><a href="/page_v2_overview_ui_goodies.html">UI Goodies</a></li><li><a href="/page_v2_overview_ws_auth.html">Authenticated Channels</a></li><li><a href="/page_v2_overview_ws_general.html">General</a></li><li><a href="/page_v2_overview_ws_public.html">Public Channels</a></li><li><a href="/page_v2_overview_ws_reading_the_documentation.html">Reading the Documentation (WS)</a></li></ul></div></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>Documentation</h2><h2>Reading the Documentation (REST)</h2></div><div class="bfx-oss-docs-content-wrapper"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><p>Each page in our API documentation follows a particular structure so as to make it as easy to use as possible. This article explains the structure of our documentation pages as well as some of the key concepts found in the documentation. The article also shows how the code examples found in our documentation pages can be interpreted and used. We will use the JavaScript examples here.</p><p>Our REST endpoint documentation pages have the following structure (click the image for a zoomed view):</p><p><img src="https://files.readme.io/da4eddd-REST_endpoint_trades_with_numbers.png" alt="undefined"></p><ol><li>A title and short description describing the general purpose of the endpoint.</li><li>A URL example showing the placement of any ‘path’ parameters.</li><li>Example code. Examples in different languages can be selected is available. An example cURL will also be available for public endpoints that can be queried in your browser.</li><li>The response map showing the endpoint response using field names. The field names used correspond to the response fields at 7. Some fields will be marked as placeholder and will come back as null in the actual response. The following structure will be used to indicate repetition in a response that can contain multiple arrays: [[FIRST_ARRAY],…]. Please also note that returned arrays can be longer than the response map. If the response has placeholders at the end of the response, these will be omitted from the response map. Any such omissions are indicated with …</li><li>An example response showing example data.</li><li>Path, body, and query parameters that can be used for your query. Mandatory parameters will be marked with a * and will always be included in the example code.</li><li>Response fields are specified here. Any field found in the response map at 4. will be shown here with its data type and further clarification.</li></ol><p>##Example Code</p><p>Each REST endpoint has accompanying example code. The example code is followed by a list of all available parameters that can be altered or added to achieve different responses.</p><h3>Example Code for Public Endpoints</h3><p>Below is the example code for the <a href="ref:rest-public-trades">Trades</a> endpoint in JavaScript. If NodeJS is installed on your system along with the required dependencies for this code ('node-fetch’in this case), you can run this code as is.</p><p>Below the example code on our documentation pages, you will find any applicable parameters for your query. For public endpoints these can be either path parameters or query parameters (pathParams and queryParams in the example code).</p><pre><code class="hljs language-javascript"><span class="hljs-meta">"use strict"</span>

<span class="hljs-keyword">const</span> fetch = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node-fetch'</span>)
<span class="hljs-keyword">const</span> url = <span class="hljs-string">'https://api-pub.bitfinex.com/v2/'</span>

<span class="hljs-keyword">const</span> pathParams = <span class="hljs-string">'trades/tBTCUSD/hist'</span> <span class="hljs-comment">// Change these based on preferred pairs</span>
<span class="hljs-keyword">const</span> queryParams = <span class="hljs-string">'limit=120&amp;sort=-1'</span> <span class="hljs-comment">// Change these based on relevant query params</span>

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">request</span>(<span class="hljs-params"></span>) </span>{
   <span class="hljs-keyword">try</span> {
       <span class="hljs-keyword">const</span> req = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">`<span class="hljs-subst">${url}</span>/<span class="hljs-subst">${pathParams}</span>?<span class="hljs-subst">${queryParams}</span>`</span>)
       <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> req.json()
       <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`STATUS <span class="hljs-subst">${req.status}</span> - <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(response)}</span>`</span>)
   }
   <span class="hljs-keyword">catch</span> (err) {
       <span class="hljs-built_in">console</span>.log(err)
   }
}

request()
</code></pre><h3>Path Parameters</h3><p>Path parameters are added to the path of the endpoint. At point 2 in the example page image you can see the URL showing the order in which pathParams are added.</p><p>For the trades endpoint in the example code above, the pathParams are ‘trades’, ‘tBTCUSD’, and ‘hist’. To look up a different symbol, you would change the symbol pathParam. If you wish to retrieve the trades for ETH/USD, for example, you would change the pathParams to ‘trades/tETHUSD/hist’.</p><h3>Query Parameters</h3><p>Some endpoints also allow the use of query parameters. When using query parameters, the order in which they are added does not matter. Each parameter needs to be connected to the previous with an ‘&amp;’ symbol. The example code shows how the parameters ‘limit’ (120) and ‘sort’ (-1) can be used. If you wanted to add an end timestamp, the queryParams in the example code could be changed to ‘limit=120&amp;sort-1&amp;end=TIMESTAMP’.</p><h3>Query Parameters in the cURL</h3><p>It is also possible to create a cURL to retrieve data in the browser. To do this, start with the base URL and add the pathParams. After the final pathParam, add a ‘?’ followed by the desired queryParams.</p><p>For example, say you have the following cURL: cURL: <a href="https://api-pub.bitfinex.com/v2/trades/tBTCUSD/hist">https://api-pub.bitfinex.com/v2/trades/tBTCUSD/hist</a></p><p>To limit the results to 120 and sort from old to new, the URL would be changed to: <a href="https://api-pub.bitfinex.com/v@/trades/tBTCUSD/hist?&amp;limit=120&amp;sort=-1">https://api-pub.bitfinex.com/v@/trades/tBTCUSD/hist?&amp;limit=120&amp;sort=-1</a></p><h3>Example Code for Authenticated Endpoints</h3><p>Below you can see the example code of the <a href="ref:rest-auth-orders-history">Orders History</a> authenticated endpoint. A request to this endpoint returns a history of your orders, but the code will only run in combination with code that authenticates your connection. You can find the example code for authenticated on this page: <a href="doc:rest-auth">Authenticated Endpoints</a>.</p><pre><code class="hljs language-javascript">request.post(
  <span class="hljs-string">`<span class="hljs-subst">${url}</span>v2/auth/r/orders/tBTCUSD/hist`</span>,
  <span class="hljs-string">`<span class="hljs-subst">${url}</span>v2/auth/r/orders/hist`</span>,
  <span class="hljs-attr">headers</span>: { <span class="hljs-comment">/* auth headers */</span> },
  <span class="hljs-attr">body</span>: {},
  <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>,
  (error, response, body) =&gt; <span class="hljs-built_in">console</span>.log(body)
)
</code></pre><p>The example code found in the documentation for specific endpoints can be combined with the authentication code as follows:</p><ol><li>Edit the url in the apiPath variable found in the authentication code to correspond with the URL found in the example code for the specific endpoint. For the Orders History endpoint above you would edit apiPath to ‘v2/auth/r/orders/hist’.</li><li>If there are any path parameters, add these to apiPath as well. For the Orders History endpoint, you can specify a trading pair. Retrieving historic tBTCUSD orders is done by editing apiPath to ‘v2/auth/orders/tBTCUSD/hist’.</li><li>If there are any Query Parameters applicable for your request, add these to the body object in the authentication code.</li><li>Lastly, any Form Data fields can be added to the body object. Form data can be required (for example when placing orders) or it can be optional. The Orders History example used here has optional form data to specify the OrderIDs of orders that you would like to retrieve. If there are any mandatory form data fields, these will always be shown in the body of the example code for the specific endpoint.</li></ol><p>Below is an example of the authentication code that is edited to retrieve data from the Orders History endpoint using an optional path variable as well as all query parameters (the OrderID form data parameter is not used, but can be used by adding ‘id: &lt;ID_HERE&gt;’ to the body.</p><pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> CryptoJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto-js'</span>) <span class="hljs-comment">// Standard JavaScript cryptography library</span>
<span class="hljs-keyword">const</span> request = <span class="hljs-built_in">require</span>(<span class="hljs-string">'request'</span>) <span class="hljs-comment">// "Request" HTTP req library</span>
   
<span class="hljs-keyword">const</span> apiKey = <span class="hljs-string">'API_KEY_HERE'</span> <span class="hljs-comment">// const apiKey = 'paste key here'</span>
<span class="hljs-keyword">const</span> apiSecret = <span class="hljs-string">'API_KEY_HERE'</span> <span class="hljs-comment">// const apiSecret = 'paste secret here'</span>

<span class="hljs-keyword">const</span> apiPath = <span class="hljs-string">'v2/auth/r/orders/tBTCUSD/hist'</span><span class="hljs-comment">// Example path</span>

<span class="hljs-keyword">const</span> nonce = (<span class="hljs-built_in">Date</span>.now() * <span class="hljs-number">1000</span>).toString() <span class="hljs-comment">// Standard nonce generator. Timestamp * 1000</span>
<span class="hljs-keyword">const</span> body = {
	<span class="hljs-attr">start</span>: <span class="hljs-number">1554002000000</span>,
  <span class="hljs-attr">end</span>: <span class="hljs-number">1554002216000</span>,
  <span class="hljs-attr">limit</span>:<span class="hljs-number">10</span>
} <span class="hljs-comment">// Field you may change depending on endpoint</span>

<span class="hljs-keyword">let</span> signature = <span class="hljs-string">`/api/<span class="hljs-subst">${apiPath}</span><span class="hljs-subst">${nonce}</span><span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(body)}</span>`</span> 
<span class="hljs-comment">// Consists of the complete url, nonce, and request body</span>

<span class="hljs-keyword">const</span> sig = CryptoJS.HmacSHA384(signature, apiSecret).toString() 
<span class="hljs-comment">// The authentication signature is hashed using the private key</span>

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">url</span>: <span class="hljs-string">`https://api.bitfinex.com/<span class="hljs-subst">${apiPath}</span>`</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">'bfx-nonce'</span>: nonce,
    <span class="hljs-string">'bfx-apikey'</span>: apiKey,
    <span class="hljs-string">'bfx-signature'</span>: sig
  },
  <span class="hljs-attr">body</span>: body,
  <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>
}

request.post(options, (error, response, body) =&gt; {
  <span class="hljs-built_in">console</span>.log(body); <span class="hljs-comment">// Logs the response body</span>
})
</code></pre></div></div><div id="bfx-oss-docs-footer-bar"><div id="bfx-oss-docs-footer-bar__container"><p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p></div></div></div><script type="text/javascript" src="/js/vendor/zepto.min.js"></script><script type="text/javascript" src="/js/vendor/lodash.min.js"></script><script type="text/javascript" src="/js/vendor/debug.min.js"></script><script type="text/javascript" src="/js/debug_init.js"></script></body></html>